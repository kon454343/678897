(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"0YSl":function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i("8Y7J"),o=i("s7LF"),a=i("DH9u"),r=i("V7XX");let s=(()=>{class e{constructor(e,t,i){this.elementRef=e,this.formatHelper=t,this.renderer=i,this.onChange=()=>{},this.onTouched=()=>{},this.element=this.elementRef.nativeElement}blur(e){this.onTouched()}input(e){this.onChange(this.setValue(e))}writeValue(e){this.setValue(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.renderer.setAttribute(this.element,"disabled","disabled"):this.renderer.removeAttribute(this.element,"disabled")}setValue(e){return this.element.value=this.formatValue(e),e?this.removeSpacesAndTrim(e):null}removeSpacesAndTrim(e){return e.split(" ").join("").substr(0,9)}formatValue(e){return a.a.isNullOrUndefined(e)?null:this.formatHelper.formatPhoneNumber(e,this.local)}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.l),n.Mb(r.a),n.Mb(n.D))},e.\u0275dir=n.Hb({type:e,selectors:[["","appPhone",""]],hostBindings:function(e,t){1&e&&n.Zb("blur",function(e){return t.blur(e.target.value)})("input",function(e){return t.input(e.target.value)})},inputs:{local:"local"},features:[n.yb([{provide:o.r,useExisting:Object(n.T)(()=>e),multi:!0}])]}),e})()},"90T7":function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("8Y7J");let o=(()=>{class e{constructor(e,t){this.elementRef=e,this.ngZone=t,this.title="",this.placement="top"}ngOnInit(){}ngOnChanges(e){e.title&&this.updateTooltipTitle(e.title.currentValue)}ngAfterViewInit(){this.isAfterViewInit=!0,this.createTooltip(),this.updateTooltipTitle(this.title)}ngOnDestroy(){this.disposeTooltip()}createTooltip(){this.isAfterViewInit&&this.ngZone.runOutsideAngular(()=>{jQuery(this.elementRef.nativeElement).tooltip({animation:!1,title:"",html:!0,placement:this.placement,container:"body",trigger:"manual"})})}updateTooltipTitle(e){this.isAfterViewInit&&this.ngZone.runOutsideAngular(()=>{jQuery(this.elementRef.nativeElement).tooltip("hide"),jQuery(this.elementRef.nativeElement).attr("data-original-title",e),e&&e.length>0&&jQuery(this.elementRef.nativeElement).tooltip("show")})}disposeTooltip(){this.ngZone.runOutsideAngular(()=>{jQuery(this.elementRef.nativeElement).tooltip("dispose")})}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.l),n.Mb(n.z))},e.\u0275dir=n.Hb({type:e,selectors:[["","appValidationTooltip",""]],inputs:{title:["appValidationTooltip","title"],placement:["vtpPlacement","placement"]},exportAs:["appValidationTooltip"],features:[n.xb]}),e})()},X3zk:function(e,t,i){"use strict";i.r(t),i.d(t,"LoginModule",function(){return jt});var n=i("s7LF"),o=i("iInd"),a=i("PCNd"),r=i("LRne"),s=i("FW47"),c=i("8Y7J");let l=(()=>{class e{constructor(e,t){this.principalService=e,this.router=t}canActivate(e,t){return this.principalService.getInitialConfigurationMode()===s.a.INITED?Object(r.a)(!0):Object(r.a)(this.router.parseUrl("/login/login"))}}return e.\u0275fac=function(t){return new(t||e)(c.Wb(s.c),c.Wb(o.d))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac}),e})();var g=i("cp0P"),b=i("5+tZ"),d=i("lJxs"),u=i("vkgz"),m=i("XNvx"),p=i("SGjj"),h=i("6rCG");let f=(()=>{class e{constructor(e,t,i,n,o){this.principalService=e,this.appStateService=t,this.apiService=i,this.loginService=n,this.router=o,this.allowedRouteModes={"/login/password":[[m.c.PASSWORD],[]],"/login/welcome":[[m.c.WELCOME],[]],"/login/changeStep1":[[m.c.CHANGE],[]],"/login/changeStep2":[[m.c.CHANGE],[m.b.CHANGE_PASSWORD_PROPOSAL]],"/login/confirmStep1":[[m.c.CONFIRM],[]],"/login/confirmStep2":[[m.c.CONFIRM],[m.b.CHANGE_PASSWORD_PROPOSAL]],"/login/scaConfirm":[[m.c.SCA_CONFIRM],[]],"/login/logout":[[m.c.LOGOUT],[]],"/login/paymentLogout":[[m.c.PAYMENT_LOGOUT],[]],"/login/consentLogout":[[m.c.CONSENT_LOGOUT],[]],"/login/fallbackLogout":[[m.c.FALLBACK_LOGOUT],[]],"/login/resetPassword":[[m.c.RESET_PASSWORD],[]],"/login/resetPasswordSuccess":[[m.c.RESET_PASSWORD_SUCCESS],[]],"/login/resetPasswordFail":[[m.c.RESET_PASSWORD_FAIL],[]]}}canActivate(e,t){return this.provideInitialConfiguration().pipe(Object(b.b)(()=>this.canActivateInternal(t)))}canActivateInternal(e){const t=this.principalService.getMode()===s.d.AUTHENTICATED,i=this.principalService.getOperatingMode()===s.b.PAY_BY_LINK,n=this.principalService.getOperatingMode()===s.b.TPP_CONSENT,o=this.principalService.getOperatingMode()===s.b.TPP_FALLBACK;return t?Object(r.a)(this.router.parseUrl("/home")):i&&"/login/payment"===e.url?this.apiService.initiatePaymentOnline().pipe(Object(d.a)(e=>(this.loginService.setPayByLinkMode(e),!0))):n&&"/login/consent"===e.url?this.apiService.getTppLoginVerifyStatus().pipe(Object(d.a)(e=>"OK"===e.verifyStatus?(this.loginService.setTppConsentMode(e),!0):"ERROR"===e.verifyStatus?(this.loginService.consentLogout(null,m.a.LOGIN_ERROR,e.tppName,null),!1):"TPP_NAME_ERROR"===e.verifyStatus?(this.loginService.consentLogout(null,m.a.LOGIN_TPP_NAME_ERROR,e.tppName,null),!1):void 0)):o&&"/login/fallback"===e.url?this.apiService.verifyFallback().pipe(Object(d.a)(e=>"OK"===e||(this.loginService.fallbackLogout(),!1))):this.isAllowedRoute(e.url)?Object(r.a)(!0):(this.loginService.reset(),"/login/login"!==e.url?Object(r.a)(this.router.parseUrl("/login/login")):Object(r.a)(!0))}isAllowedRoute(e){if(this.allowedRouteModes[e]){const t=this.allowedRouteModes[e][0],i=this.allowedRouteModes[e][1],n=0===t.length||t.indexOf(this.loginService.getMode())>=0,o=0===i.length||i.indexOf(this.loginService.getChangeMode())>=0;return n&&o}return!1}provideInitialConfiguration(){return this.principalService.getInitialConfigurationMode()===s.a.CONFIGURED?Object(r.a)(null).pipe(Object(u.a)(()=>this.appStateService.hideGlobalPreload())):Object(r.a)(null).pipe(Object(u.a)(()=>this.principalService.initConfigurationMode()),Object(b.b)(()=>Object(g.a)([this.apiService.getInitialConfiguration(),this.apiService.getMessageProperties(),this.apiService.getCurrentDate()])),Object(u.a)(e=>{const t=e[0],i=e[1].filter(e=>"LOGIN_PAGE_MAINTENANCE_INFO"===e.code),n=e[1].filter(e=>"LOGIN_PAGE_SECURITY_INFO"===e.code),o=e[1].filter(e=>"PASSWORD_RESET_MAINTENANCE_INFO"===e.code);this.principalService.setInitialConfiguration(e[2],t,i,n,o),this.appStateService.hideGlobalPreload()}),Object(d.a)(()=>null))}}return e.\u0275fac=function(t){return new(t||e)(c.Wb(s.c),c.Wb(p.a),c.Wb(h.a),c.Wb(m.d),c.Wb(o.d))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac}),e})(),S=(()=>{class e{constructor(e){this.appStateService=e}ngOnInit(){this.appStateService.hideGlobalPreload()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(p.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-init-configuration-error"]],decls:14,vars:0,consts:[[1,"initial-configuration-error"],["src","assets/img/ico-title.png","alt","i"],[1,"cta-row"],["href","https://credit-agricole.pl/","target","_blank"],["src","assets/img/ico-btn.png","alt","arrow"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"section"),c.Sb(2,"h1"),c.Nb(3,"img",1),c.Gc(4," Dzie\u0144 dobry!"),c.Rb(),c.Sb(5,"p"),c.Gc(6," Serwis internetowy CA24 jest czasowo niedost\u0119pny. Spr\xf3buj ponownie za chwil\u0119."),c.Nb(7,"br"),c.Nb(8,"br"),c.Gc(9," Serdecznie przepraszamy za niedogodno\u015bci. "),c.Rb(),c.Sb(10,"div",2),c.Sb(11,"a",3),c.Gc(12,"Ok, przejd\u017a na stron\u0119 banku "),c.Nb(13,"img",4),c.Rb(),c.Rb(),c.Rb(),c.Rb())},styles:[".initial-configuration-error{color:#454545;font-weight:400;font-size:1.2rem;font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center}@media (max-width:460px){.initial-configuration-error{font-size:.9rem}}.initial-configuration-error section{background:#fff;min-height:675px;max-width:850px;padding:120px 50px 50px}@media (max-width:460px){.initial-configuration-error section{padding:50px 20px;min-height:0}}.initial-configuration-error h1{color:#007d8f;margin-bottom:70px;margin-left:40px;font-size:1.6rem;font-weight:600}@media (max-width:460px){.initial-configuration-error h1{margin-left:0;margin-bottom:30px;font-size:1.2rem}}.initial-configuration-error h1 img{margin-right:20px}.initial-configuration-error p a{color:#9c0;text-decoration:underline}.initial-configuration-error p a:hover{text-decoration:none}.initial-configuration-error .cta-row{text-align:center;margin-top:130px}@media (max-width:460px){.initial-configuration-error .cta-row{margin-top:50px}}.initial-configuration-error .cta-row a{display:inline-block;background:#007d8f;color:#fff;border-radius:12px;padding:10px 15px;text-decoration:none;transition:background .2s}.initial-configuration-error .cta-row a:hover{background:#006776}.initial-configuration-error img{vertical-align:middle}"],encapsulation:2}),e})();var w=i("75EC"),v=i("SVse"),y=i("X22t"),R=i("TSSN");let k=(()=>{class e{constructor(e,t,i){this.loginService=e,this.dictionaryService=t,this.translateService=i}ngOnInit(){}getSecurityImageName(){return this.loginService.getSafetyImageId()}getSecurityImageAriaLabel(){const e=this.dictionaryService.getSecurityImageTranslateMap().get(this.getSecurityImageName());if(e){const t=this.translateService.instant("login.securityImage.name."+e);return this.translateService.instant("login.securityImage.imageName.label",{imgName:t})}return this.translateService.instant("login.securityImage.imageName.empty.label")}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m.d),c.Mb(y.a),c.Mb(R.d))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-security-image"]],decls:10,vars:6,consts:[["aria-hidden","true",1,"security-image-container"],[1,"security-image-container-inner"],[1,"image",3,"ngClass"],[1,"sr-only"],[1,"user"],[1,"user-login"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.Gc(4),c.Rb(),c.Rb(),c.Sb(5,"div",4),c.Gc(6),c.dc(7,"translate"),c.Sb(8,"div",5),c.Gc(9),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.zb(2),c.jc("ngClass","img-"+t.getSecurityImageName()),c.zb(2),c.Hc(t.getSecurityImageAriaLabel()),c.zb(2),c.Ic("",c.ec(7,4,"login.securityImage.login.label")," "),c.zb(3),c.Hc(t.loginService.getLogin()))},directives:[v.k],pipes:[R.c],styles:[".security-image-container{padding-top:0;padding-bottom:0}@media (max-width:767.98px){.security-image-container{padding:0}}.security-image-container .security-image-container-inner{background-image:linear-gradient(rgba(0,0,0,.3) 50%,transparent);padding:20px;display:flex;justify-content:space-around;align-items:center}.security-image-container .security-image-container-inner .image{margin:10px;width:200px;height:200px;background-size:contain;background-position:50%;background-repeat:no-repeat}.security-image-container .security-image-container-inner .image.img-img01{background-image:url(/web-ca24/balon.09abde3170289af687f2.png)}.security-image-container .security-image-container-inner .image.img-img02{background-image:url(/web-ca24/dron.53c316764a85ef54f294.png)}.security-image-container .security-image-container-inner .image.img-img03{background-image:url(/web-ca24/jez.d2db7aadd6a94fc749b1.png)}.security-image-container .security-image-container-inner .image.img-img04{background-image:url(/web-ca24/karmnik.d587a76dde31d26e984c.png)}.security-image-container .security-image-container-inner .image.img-img05{background-image:url(/web-ca24/kosz.d371b2bdd3b01786f12e.png)}.security-image-container .security-image-container-inner .image.img-img06{background-image:url(/web-ca24/kot.0629c30c4ac3b25ae1f4.png)}.security-image-container .security-image-container-inner .image.img-img07{background-image:url(/web-ca24/lodka.a718e8d2d59f1a4b48c9.png)}.security-image-container .security-image-container-inner .image.img-img08{background-image:url(/web-ca24/motyl.7f495659f043641609f9.png)}.security-image-container .security-image-container-inner .image.img-img09{background-image:url(/web-ca24/pad.f3635ac33c7229475abc.png)}.security-image-container .security-image-container-inner .image.img-img10{background-image:url(/web-ca24/papuga.67313ab236e546c0e4d6.png)}.security-image-container .security-image-container-inner .image.img-img11{background-image:url(/web-ca24/pies.0b2faf3b1ffe56780226.png)}.security-image-container .security-image-container-inner .image.img-img12{background-image:url(/web-ca24/rozgwiazda.1dc714a456d393f52912.png)}.security-image-container .security-image-container-inner .image.img-img13{background-image:url(/web-ca24/ryba.d0c27291f4acb45f7232.png)}.security-image-container .security-image-container-inner .image.img-img14{background-image:url(/web-ca24/samochod.6d374d14dcadf9722c62.png)}.security-image-container .security-image-container-inner .image.img-img15{background-image:url(/web-ca24/sluchawki.f2b4ee3c18d91e84ba88.png)}.security-image-container .security-image-container-inner .image.img-img16{background-image:url(/web-ca24/sztaluga.b7202492887cd4d20571.png)}.security-image-container .security-image-container-inner .image.img-img17{background-image:url(/web-ca24/teleskop.f6774df2f9057350bfe8.png)}.security-image-container .security-image-container-inner .image.translucent{opacity:0}.security-image-container .security-image-container-inner .user{color:#fff;font-size:14px}.security-image-container .security-image-container-inner .user div{font-size:18px;font-weight:600}@media (min-width:768px){.security-image-container .security-image-container-inner{height:100%}.security-image-container .security-image-container-inner .user{text-align:center}}"],encapsulation:2}),e})(),C=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-banner"]],decls:2,vars:0,consts:[[1,"banner-container"],[1,"banner"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Nb(1,"div",1),c.Rb())},encapsulation:2}),e})();var P=i("zLWW");const I=function(e){return{link:e}};function x(e,t){if(1&e&&(c.Sb(0,"div"),c.Sb(1,"h4"),c.Gc(2),c.dc(3,"translate"),c.Rb(),c.Nb(4,"p",9),c.dc(5,"translate"),c.Nb(6,"p",9),c.dc(7,"translate"),c.Nb(8,"p",9),c.dc(9,"translate"),c.Sb(10,"p",10),c.Sb(11,"a",11),c.Sb(12,"span"),c.Gc(13),c.dc(14,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e){const e=c.cc();c.zb(2),c.Hc(c.ec(3,6,"login.beforePayment.title")),c.zb(2),c.jc("innerHTML",c.ec(5,8,"login.beforePayment.positive.part1"),c.yc),c.zb(2),c.jc("innerHTML",c.fc(7,10,"login.beforePayment.positive.part2",c.pc(17,I,e.state.safetyRulesUrl)),c.yc),c.zb(2),c.jc("innerHTML",c.ec(9,13,"login.beforePayment.positive.part3"),c.yc),c.zb(3),c.jc("href",e.state.informationUrl,c.zc),c.zb(2),c.Hc(c.ec(14,15,"login.beforePayment.moreInfo.link"))}}function F(e,t){1&e&&(c.Sb(0,"div"),c.Sb(1,"h4"),c.Gc(2),c.dc(3,"translate"),c.Rb(),c.Nb(4,"p",9),c.dc(5,"translate"),c.Nb(6,"p",9),c.dc(7,"translate"),c.Rb()),2&e&&(c.zb(2),c.Hc(c.ec(3,3,"login.beforePayment.title")),c.zb(2),c.jc("innerHTML",c.ec(5,5,"login.beforePayment.negative.part1"),c.yc),c.zb(2),c.jc("innerHTML",c.ec(7,7,"login.beforePayment.negative.part2"),c.yc))}function N(e,t){if(1&e&&(c.Sb(0,"a",12),c.Nb(1,"i",13),c.Gc(2),c.dc(3,"translate"),c.Rb()),2&e){const e=c.cc();c.jc("href",e.state.errorRedirectUrl,c.zc),c.zb(2),c.Ic("",c.ec(3,2,"login.beforePayment.cancel.link")," ")}}function z(e,t){if(1&e){const e=c.Tb();c.Sb(0,"a",14),c.Zb("click",function(){return c.xc(e),c.cc().login()}),c.Gc(1),c.dc(2,"translate"),c.Rb()}2&e&&(c.zb(1),c.Ic(" ",c.ec(2,1,"login.beforePayment.login.button")," "))}let M=(()=>{class e{constructor(e,t){this.systemParameterService=e,this.loginService=t,this.state={isSuccessMessage:t.getInitiatePaymentOnlineResult().isSuccessful,errorRedirectUrl:t.getInitiatePaymentOnlineResult().redirectUrl,safetyRulesUrl:this.systemParameterService.getWebLoginPaymentOnlineSafetyRulesUrl(),informationUrl:this.systemParameterService.getWebLoginPaymentOnlineInformationUrl(),timerRef:null}}ngOnInit(){const e=1e3*this.systemParameterService.getWebLoginRedirectTimePaymentOnline();e>0&&(this.state.timerRef=setTimeout(()=>{this.state.isSuccessMessage?this.login():window.location.href=this.state.errorRedirectUrl},e))}ngOnDestroy(){this.state.timerRef&&clearTimeout(this.state.timerRef)}login(){this.loginService.submitPaymentWelcome()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(P.a),c.Mb(m.d))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-before-payment"]],decls:12,vars:7,consts:[[1,"h-100"],[1,"bg-transparent"],[1,"note-alert","card"],["role","complementary",1,"alert","alert-warning","card-inner"],[1,"caption"],[4,"ngIf"],[1,"bg-secondary","buttons","d-flex","justify-content-around","p-3"],["class","btn btn-empty btn-lg btn-cancel align-self-center",3,"href",4,"ngIf"],["href","javascript:void(null);","class","btn btn-primary btn-lg align-self-center",3,"click",4,"ngIf"],[1,"font-400",3,"innerHTML"],[1,"font-400"],["target","_blank",3,"href"],[1,"btn","btn-empty","btn-lg","btn-cancel","align-self-center",3,"href"],[1,"ca","ca-close"],["href","javascript:void(null);",1,"btn","btn-primary","btn-lg","align-self-center",3,"click"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.Sb(4,"div",4),c.Gc(5),c.dc(6,"translate"),c.Rb(),c.Ec(7,x,15,19,"div",5),c.Ec(8,F,8,9,"div",5),c.Rb(),c.Rb(),c.Rb(),c.Sb(9,"div",6),c.Ec(10,N,4,4,"a",7),c.Ec(11,z,3,3,"a",8),c.Rb(),c.Rb()),2&e&&(c.zb(5),c.Hc(c.ec(6,5,"login.beforePayment.caption")),c.zb(2),c.jc("ngIf",t.state.isSuccessMessage),c.zb(1),c.jc("ngIf",!t.state.isSuccessMessage),c.zb(2),c.jc("ngIf",!t.state.isSuccessMessage),c.zb(1),c.jc("ngIf",t.state.isSuccessMessage))},directives:[v.m],pipes:[R.c],styles:[".note-alert{padding-top:30px;background-color:transparent}.h-100 .note-alert{height:100%}@media (max-width:767.98px){.note-alert{padding:30px 0 0}:not(.bg-transparent)>.note-alert{background-color:#fff}}.note-alert .left{text-align:left}.note-alert .right{text-align:right}.note-alert .center{text-align:center}.note-alert .full{text-align:justify}.note-alert .alert{border:none;border-radius:0;margin:0;padding-top:50px;position:relative;background-repeat:no-repeat;background-position:50%;background-size:75% 75%}.h-100 .note-alert .alert{min-height:100%}@media (min-width:1160px){.note-alert .alert{padding-right:25%;background-position:225%}}.note-alert .alert .caption{position:absolute;text-align:center;left:50%;top:0;transform:translate(-50%,-50%);margin:auto;font-size:25px;line-height:inherit;padding:0 20px;border-radius:20px;font-weight:700;white-space:nowrap}.theme-default .note-alert .alert .caption{background-color:#9c0;border:none}.theme-hicontrast .note-alert .alert .caption{background-color:#000;border:2px solid #9c0}.note-alert .alert h4{color:inherit;font-size:1.375rem;line-height:1.875rem;font-weight:600;margin-bottom:1rem}.note-alert .alert.alert-warning{background-image:url(/web-ca24/exclamation.4fe516ee1ff6000c6f2d.svg)}.theme-default .note-alert .alert.alert-warning{background-color:#009597;color:#fff}.theme-hicontrast .note-alert .alert.alert-warning{background-color:#002a2b;color:#fff}.note-alert .alert.alert-warning a{color:#fff;font-weight:600}.note-alert .alert.alert-warning a:active,.note-alert .alert.alert-warning a:focus,.note-alert .alert.alert-warning a:hover{text-decoration:underline}"],encapsulation:2}),e})();const T=function(e,t){return{link:e,time:t}};function E(e,t){if(1&e&&(c.Sb(0,"div"),c.Nb(1,"p",6),c.dc(2,"translate"),c.Nb(3,"p",6),c.dc(4,"translate"),c.Rb()),2&e){const e=c.cc();c.zb(1),c.jc("innerHTML",c.ec(2,2,"login.afterPayment.logout.part1"),c.yc),c.zb(2),c.jc("innerHTML",c.fc(4,4,"login.afterPayment.message.part2",c.qc(7,T,e.state.logoutRedirectUrl,e.state.logoutRedirectTime)),c.yc)}}function A(e,t){if(1&e&&(c.Sb(0,"div"),c.Nb(1,"p",6),c.dc(2,"translate"),c.Nb(3,"p",6),c.dc(4,"translate"),c.Rb()),2&e){const e=c.cc();c.zb(1),c.jc("innerHTML",c.ec(2,2,"login.afterPayment.cancel.part1"),c.yc),c.zb(2),c.jc("innerHTML",c.fc(4,4,"login.afterPayment.message.part2",c.qc(7,T,e.state.logoutRedirectUrl,e.state.logoutRedirectTime)),c.yc)}}function O(e,t){if(1&e&&(c.Sb(0,"div"),c.Nb(1,"p",6),c.dc(2,"translate"),c.Nb(3,"p",6),c.dc(4,"translate"),c.Rb()),2&e){const e=c.cc();c.zb(1),c.jc("innerHTML",c.ec(2,2,"login.afterPayment.security.part1"),c.yc),c.zb(2),c.jc("innerHTML",c.fc(4,4,"login.afterPayment.message.part2",c.qc(7,T,e.state.logoutRedirectUrl,e.state.logoutRedirectTime)),c.yc)}}function L(e,t){if(1&e&&(c.Sb(0,"div"),c.Nb(1,"p",6),c.dc(2,"translate"),c.Nb(3,"p",6),c.dc(4,"translate"),c.Rb()),2&e){const e=c.cc();c.zb(1),c.jc("innerHTML",c.ec(2,2,"login.afterPayment.positive.part1"),c.yc),c.zb(2),c.jc("innerHTML",c.fc(4,4,"login.afterPayment.message.part2",c.qc(7,T,e.state.logoutRedirectUrl,e.state.logoutRedirectTime)),c.yc)}}function j(e,t){if(1&e&&(c.Sb(0,"div"),c.Nb(1,"p",6),c.dc(2,"translate"),c.Nb(3,"p",6),c.dc(4,"translate"),c.Rb()),2&e){const e=c.cc();c.zb(1),c.jc("innerHTML",c.ec(2,2,"login.afterPayment.negative.part1"),c.yc),c.zb(2),c.jc("innerHTML",c.fc(4,4,"login.afterPayment.message.part2",c.qc(7,T,e.state.logoutRedirectUrl,e.state.logoutRedirectTime)),c.yc)}}let G=(()=>{class e{constructor(e,t){this.loginService=e,this.systemParameterService=t,this.state={isLogoutMessage:this.loginService.getPaymentLogoutMode()===m.e.LOGOUT,isCancelMessage:this.loginService.getPaymentLogoutMode()===m.e.CANCEL,isSecurityMessage:this.loginService.getPaymentLogoutMode()===m.e.SECURITY,isPositiveMessage:this.loginService.getPaymentLogoutMode()===m.e.POSITIVE,isNegativeMessage:this.loginService.getPaymentLogoutMode()===m.e.NEGATIVE,logoutRedirectTime:this.systemParameterService.getWebLogoutRedirectTimePaymentOnline(),logoutRedirectUrl:this.loginService.getPaymentLogoutRedirectUrl(),timerRef:null}}ngOnInit(){const e=1e3*this.systemParameterService.getWebLogoutRedirectTimePaymentOnline();e>0&&(this.state.timerRef=setTimeout(()=>{window.location.href=this.state.logoutRedirectUrl},e))}ngOnDestroy(){this.state.timerRef&&clearTimeout(this.state.timerRef)}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m.d),c.Mb(P.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-logout-after-payment"]],decls:12,vars:8,consts:[[1,"h-100"],[1,"bg-transparent"],[1,"note-alert","card"],["role","complementary",1,"alert","alert-warning","card-inner"],[1,"caption"],[4,"ngIf"],[1,"font-400",3,"innerHTML"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.Sb(4,"div",4),c.Gc(5),c.dc(6,"translate"),c.Rb(),c.Ec(7,E,5,10,"div",5),c.Ec(8,A,5,10,"div",5),c.Ec(9,O,5,10,"div",5),c.Ec(10,L,5,10,"div",5),c.Ec(11,j,5,10,"div",5),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.zb(5),c.Hc(c.ec(6,6,"login.afterPayment.caption")),c.zb(2),c.jc("ngIf",t.state.isLogoutMessage),c.zb(1),c.jc("ngIf",t.state.isCancelMessage),c.zb(1),c.jc("ngIf",t.state.isSecurityMessage),c.zb(1),c.jc("ngIf",t.state.isPositiveMessage),c.zb(1),c.jc("ngIf",t.state.isNegativeMessage))},directives:[v.m],pipes:[R.c],styles:[".note-alert{padding-top:30px;background-color:transparent}.h-100 .note-alert{height:100%}@media (max-width:767.98px){.note-alert{padding:30px 0 0}:not(.bg-transparent)>.note-alert{background-color:#fff}}.note-alert .left{text-align:left}.note-alert .right{text-align:right}.note-alert .center{text-align:center}.note-alert .full{text-align:justify}.note-alert .alert{border:none;border-radius:0;margin:0;padding-top:50px;position:relative;background-repeat:no-repeat;background-position:50%;background-size:75% 75%}.h-100 .note-alert .alert{min-height:100%}@media (min-width:1160px){.note-alert .alert{padding-right:25%;background-position:225%}}.note-alert .alert .caption{position:absolute;text-align:center;left:50%;top:0;transform:translate(-50%,-50%);margin:auto;font-size:25px;line-height:inherit;padding:0 20px;border-radius:20px;font-weight:700;white-space:nowrap}.theme-default .note-alert .alert .caption{background-color:#9c0;border:none}.theme-hicontrast .note-alert .alert .caption{background-color:#000;border:2px solid #9c0}.note-alert .alert h4{color:inherit;font-size:1.375rem;line-height:1.875rem;font-weight:600;margin-bottom:1rem}.note-alert .alert.alert-warning{background-image:url(/web-ca24/exclamation.4fe516ee1ff6000c6f2d.svg)}.theme-default .note-alert .alert.alert-warning{background-color:#009597;color:#fff}.theme-hicontrast .note-alert .alert.alert-warning{background-color:#002a2b;color:#fff}.note-alert .alert.alert-warning a{color:#fff;font-weight:600}.note-alert .alert.alert-warning a:active,.note-alert .alert.alert-warning a:focus,.note-alert .alert.alert-warning a:hover{text-decoration:underline}"],encapsulation:2}),e})();function H(e,t){1&e&&(c.Nb(0,"p",5),c.dc(1,"translate")),2&e&&c.jc("innerHTML",c.ec(1,1,"login.afterConsent.login.error"),c.yc)}const D=function(e){return{tpp:e}};function _(e,t){if(1&e&&(c.Nb(0,"p",5),c.dc(1,"translate")),2&e){const e=c.cc();c.jc("innerHTML",c.fc(1,1,"login.afterConsent.login.tppNameError",c.pc(4,D,e.state.tppName)),c.yc)}}function U(e,t){1&e&&(c.Nb(0,"p",5),c.dc(1,"translate")),2&e&&c.jc("innerHTML",c.ec(1,1,"login.afterConsent.logout.part1"),c.yc)}function V(e,t){1&e&&(c.Nb(0,"p",5),c.dc(1,"translate")),2&e&&c.jc("innerHTML",c.ec(1,1,"login.afterConsent.cancel.part1"),c.yc)}function W(e,t){1&e&&(c.Nb(0,"p",5),c.dc(1,"translate")),2&e&&c.jc("innerHTML",c.ec(1,1,"login.afterConsent.security.part1"),c.yc)}function B(e,t){1&e&&(c.Nb(0,"p",5),c.dc(1,"translate")),2&e&&c.jc("innerHTML",c.ec(1,1,"login.afterConsent.positive.part1"),c.yc)}function q(e,t){1&e&&(c.Nb(0,"p",5),c.dc(1,"translate")),2&e&&c.jc("innerHTML",c.ec(1,1,"login.afterConsent.negative.part1"),c.yc)}function Z(e,t){if(1&e&&c.Nb(0,"p",5),2&e){const e=c.cc();c.jc("innerHTML",e.state.additionalMessage,c.yc)}}const K=function(e,t,i){return{tpp:e,link:t,time:i}};function Q(e,t){if(1&e&&(c.Nb(0,"p",5),c.dc(1,"translate")),2&e){const e=c.cc();c.jc("innerHTML",c.fc(1,1,"login.afterConsent.message.part2",c.rc(4,K,e.state.tppName,e.state.logoutRedirectUrl,e.state.logoutRedirectTime)),c.yc)}}let Y=(()=>{class e{constructor(e,t){this.loginService=e,this.systemParameterService=t,this.state={isLoginErrorMessage:this.loginService.getConsentLogoutMode()===m.a.LOGIN_ERROR,isLoginTppNameErrorMessage:this.loginService.getConsentLogoutMode()===m.a.LOGIN_TPP_NAME_ERROR,isLogoutMessage:this.loginService.getConsentLogoutMode()===m.a.LOGOUT,isCancelMessage:this.loginService.getConsentLogoutMode()===m.a.CANCEL,isSecurityMessage:this.loginService.getConsentLogoutMode()===m.a.SECURITY,isPositiveMessage:this.loginService.getConsentLogoutMode()===m.a.POSITIVE,isNegativeMessage:this.loginService.getConsentLogoutMode()===m.a.NEGATIVE,additionalMessage:this.loginService.getAdditionalMessage(),isLogoutPart2Message:!this.isConsentLoginError()&&!!this.loginService.getConsentLogoutRedirectUrl(),logoutRedirectTime:this.getLogoutRedirectTime(),logoutRedirectUrl:this.loginService.getConsentLogoutRedirectUrl(),tppName:this.loginService.getTppName(),timerRef:null}}ngOnInit(){this.state.logoutRedirectTime>0&&this.state.logoutRedirectUrl&&(this.state.timerRef=setTimeout(()=>{window.location.href=this.state.logoutRedirectUrl},1e3*this.state.logoutRedirectTime))}getLogoutRedirectTime(){return this.isConsentLoginError()?0:this.systemParameterService.getWebLogoutRedirectTimeTpp()}isConsentLoginError(){return[m.a.LOGIN_ERROR,m.a.LOGIN_TPP_NAME_ERROR].indexOf(this.loginService.getConsentLogoutMode())>=0}ngOnDestroy(){this.state.timerRef&&clearTimeout(this.state.timerRef)}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m.d),c.Mb(P.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-logout-after-consent"]],decls:16,vars:12,consts:[[1,"h-100","bg-transparent"],[1,"note-alert","card"],["role","complementary",1,"alert","alert-warning","card-inner"],[1,"caption"],["class","font-400",3,"innerHTML",4,"ngIf"],[1,"font-400",3,"innerHTML"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"h2",3),c.Gc(4),c.dc(5,"translate"),c.Rb(),c.Sb(6,"div"),c.Ec(7,H,2,3,"p",4),c.Ec(8,_,2,6,"p",4),c.Ec(9,U,2,3,"p",4),c.Ec(10,V,2,3,"p",4),c.Ec(11,W,2,3,"p",4),c.Ec(12,B,2,3,"p",4),c.Ec(13,q,2,3,"p",4),c.Ec(14,Z,1,1,"p",4),c.Ec(15,Q,2,8,"p",4),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.zb(4),c.Hc(c.ec(5,10,"login.afterConsent.caption")),c.zb(3),c.jc("ngIf",t.state.isLoginErrorMessage),c.zb(1),c.jc("ngIf",t.state.isLoginTppNameErrorMessage),c.zb(1),c.jc("ngIf",t.state.isLogoutMessage),c.zb(1),c.jc("ngIf",t.state.isCancelMessage),c.zb(1),c.jc("ngIf",t.state.isSecurityMessage),c.zb(1),c.jc("ngIf",t.state.isPositiveMessage),c.zb(1),c.jc("ngIf",t.state.isNegativeMessage),c.zb(1),c.jc("ngIf",t.state.additionalMessage),c.zb(1),c.jc("ngIf",t.state.isLogoutPart2Message))},directives:[v.m],pipes:[R.c],styles:[".note-alert{padding-top:30px;background-color:transparent}.h-100 .note-alert{height:100%}@media (max-width:767.98px){.note-alert{padding:30px 0 0}:not(.bg-transparent)>.note-alert{background-color:#fff}}.note-alert .left{text-align:left}.note-alert .right{text-align:right}.note-alert .center{text-align:center}.note-alert .full{text-align:justify}.note-alert .alert{border:none;border-radius:0;margin:0;padding-top:50px;position:relative;background-repeat:no-repeat;background-position:50%;background-size:75% 75%}.h-100 .note-alert .alert{min-height:100%}@media (min-width:1160px){.note-alert .alert{padding-right:25%;background-position:225%}}.note-alert .alert .caption{position:absolute;text-align:center;left:50%;top:0;transform:translate(-50%,-50%);margin:auto;font-size:25px;line-height:inherit;padding:0 20px;border-radius:20px;font-weight:700;white-space:nowrap}.theme-default .note-alert .alert .caption{background-color:#9c0;border:none}.theme-hicontrast .note-alert .alert .caption{background-color:#000;border:2px solid #9c0}.note-alert .alert h4{color:inherit;font-size:1.375rem;line-height:1.875rem;font-weight:600;margin-bottom:1rem}.note-alert .alert.alert-warning{background-image:url(/web-ca24/exclamation.4fe516ee1ff6000c6f2d.svg)}.theme-default .note-alert .alert.alert-warning{background-color:#009597;color:#fff}.theme-hicontrast .note-alert .alert.alert-warning{background-color:#002a2b;color:#fff}.note-alert .alert.alert-warning a{color:#fff;font-weight:600}.note-alert .alert.alert-warning a:active,.note-alert .alert.alert-warning a:focus,.note-alert .alert.alert-warning a:hover{text-decoration:underline}"],encapsulation:2}),e})(),J=(()=>{class e{constructor(e,t){this.loginService=e,this.systemParameterService=t,this.state={logoutRedirectTime:this.systemParameterService.getWebLogoutRedirectTimePaymentOnline(),logoutRedirectUrl:this.loginService.getPaymentLogoutRedirectUrl(),timerRef:null}}ngOnInit(){const e=1e3*this.systemParameterService.getWebLogoutRedirectTimePaymentOnline();e>0&&(this.state.timerRef=setTimeout(()=>{window.location.href=this.state.logoutRedirectUrl},e))}ngOnDestroy(){this.state.timerRef&&clearTimeout(this.state.timerRef)}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m.d),c.Mb(P.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-logout-after-fallback"]],decls:11,vars:9,consts:[[1,"h-100"],[1,"bg-transparent"],[1,"note-alert","card"],["role","complementary",1,"alert","alert-warning","card-inner"],[1,"caption"],[1,"font-400",3,"innerHTML"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.Sb(4,"div",4),c.Gc(5),c.dc(6,"translate"),c.Rb(),c.Nb(7,"p",5),c.dc(8,"translate"),c.Nb(9,"p",5),c.dc(10,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.zb(5),c.Hc(c.ec(6,3,"login.afterFallback.caption")),c.zb(2),c.jc("innerHTML",c.ec(8,5,"login.afterFallback.negative.part1"),c.yc),c.zb(2),c.jc("innerHTML",c.ec(10,7,"login.afterFallback.negative.part2"),c.yc))},pipes:[R.c],styles:[".note-alert{padding-top:30px;background-color:transparent}.h-100 .note-alert{height:100%}@media (max-width:767.98px){.note-alert{padding:30px 0 0}:not(.bg-transparent)>.note-alert{background-color:#fff}}.note-alert .left{text-align:left}.note-alert .right{text-align:right}.note-alert .center{text-align:center}.note-alert .full{text-align:justify}.note-alert .alert{border:none;border-radius:0;margin:0;padding-top:50px;position:relative;background-repeat:no-repeat;background-position:50%;background-size:75% 75%}.h-100 .note-alert .alert{min-height:100%}@media (min-width:1160px){.note-alert .alert{padding-right:25%;background-position:225%}}.note-alert .alert .caption{position:absolute;text-align:center;left:50%;top:0;transform:translate(-50%,-50%);margin:auto;font-size:25px;line-height:inherit;padding:0 20px;border-radius:20px;font-weight:700;white-space:nowrap}.theme-default .note-alert .alert .caption{background-color:#9c0;border:none}.theme-hicontrast .note-alert .alert .caption{background-color:#000;border:2px solid #9c0}.note-alert .alert h4{color:inherit;font-size:1.375rem;line-height:1.875rem;font-weight:600;margin-bottom:1rem}.note-alert .alert.alert-warning{background-image:url(/web-ca24/exclamation.4fe516ee1ff6000c6f2d.svg)}.theme-default .note-alert .alert.alert-warning{background-color:#009597;color:#fff}.theme-hicontrast .note-alert .alert.alert-warning{background-color:#002a2b;color:#fff}.note-alert .alert.alert-warning a{color:#fff;font-weight:600}.note-alert .alert.alert-warning a:active,.note-alert .alert.alert-warning a:focus,.note-alert .alert.alert-warning a:hover{text-decoration:underline}"],encapsulation:2}),e})();var X=i("kbUs"),$=i("AytR"),ee=i("cpG6"),te=i("Rk0+"),ie=i("qiIk"),ne=i("8Z9a");const oe=["login"];function ae(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div",17),c.Sb(1,"a",13),c.Zb("click",function(){return c.xc(e),c.cc().onResetPasswordClick()}),c.Sb(2,"span"),c.Gc(3),c.dc(4,"translate"),c.Rb(),c.Rb(),c.Rb()}2&e&&(c.zb(3),c.Hc(c.ec(4,1,"login.userForm.resetPassword.link")))}const re=function(e){return{preloading:e}};let se=(()=>{class e{constructor(e,t,i){this.loginService=e,this.systemParameterService=t,this.modalAlertService=i,this.state={isLoading:!1,isHidden:!1,isPasswordResetEnabled:!0},this.subscriptions=[]}ngOnInit(){this.initLoginForm(),this.subscriptions.push(this.loginService.stateChanged.subscribe(e=>this.onServiceStateChange())),this.subscriptions.push(this.loginService.routeAnimationDone.subscribe(e=>this.loginElementRef.nativeElement.focus())),this.state.isPasswordResetEnabled=this.systemParameterService.getPasswordResetEnabled()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}initLoginForm(){this.loginForm=new n.k($.a.demo?{login:new n.h($.a.login,[n.D.required])}:{login:new n.h(null,[n.D.required])})}onLoginProblemClick(){$.a.demo?this.modalAlertService.showUnavailableInDemoInfo():window.open(this.systemParameterService.getWebLoginProblemUrl())}onResetPasswordClick(){this.loginService.gotoResetPassword()}onSubmit(){!this.loginService.isCallingServer()&&this.loginForm.valid&&(this.state.isHidden=!0,setTimeout(()=>this.loginService.submitLogin(this.loginForm.value.login)))}onServiceStateChange(){this.state.isLoading=this.loginService.isCallingServer()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m.d),c.Mb(P.a),c.Mb(ee.b))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-form-user"]],viewQuery:function(e,t){if(1&e&&c.Oc(oe,!0),2&e){let e;c.tc(e=c.ac())&&(t.loginElementRef=e.first)}},decls:28,vars:31,consts:[[1,"card-inner","form-container"],["autocomplete","off",3,"formGroup","ngSubmit"],["loginFormRef",""],[1,"h4"],[1,"form-group","input-keyboard-group","user-group","not-too-wide"],["for","login"],["href","javascript:void(null);",1,"help-info","help-info-md",3,"appTlpTooltip","tlpPlacement"],[1,"ca","ca-question"],["id","login","formControlName","login","type","text","autocomplete","off","maxlength","30",1,"form-control",3,"readonly","placeholder"],["login",""],["href","javascript:void(null);",1,"keyboard",3,"appVirtualKeyboard","formToSubmit"],[1,"ca","ca-keyboard"],[1,"form-group","not-too-wide","text-right","my-2","my-lg-0"],["href","javascript:void(null);",1,"text-link-sm",3,"click"],["class","form-group not-too-wide text-right mb-4",4,"ngIf"],[1,"buttons","buttons-right","not-too-wide"],["id","login-user-click-button","type","submit",1,"btn","btn-primary","btn-lg",3,"ngClass","disabled","appPiwikClickable"],[1,"form-group","not-too-wide","text-right","mb-4"]],template:function(e,t){if(1&e&&(c.Sb(0,"div",0),c.Sb(1,"form",1,2),c.Zb("ngSubmit",function(){return t.onSubmit()}),c.Sb(3,"h1",3),c.Gc(4),c.dc(5,"translate"),c.Rb(),c.Sb(6,"div",4),c.Sb(7,"label",5),c.Gc(8),c.dc(9,"translate"),c.Sb(10,"a",6),c.dc(11,"translate"),c.Nb(12,"i",7),c.Rb(),c.Rb(),c.Nb(13,"input",8,9),c.dc(15,"translate"),c.Sb(16,"a",10),c.Nb(17,"i",11),c.Rb(),c.Rb(),c.Sb(18,"div",12),c.Sb(19,"a",13),c.Zb("click",function(){return t.onLoginProblemClick()}),c.Sb(20,"span"),c.Gc(21),c.dc(22,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Ec(23,ae,5,3,"div",14),c.Sb(24,"div",15),c.Sb(25,"button",16),c.Gc(26),c.dc(27,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e){const e=c.uc(2),i=c.uc(14);c.zb(1),c.jc("formGroup",t.loginForm),c.Ab("aria-hidden",t.state.isHidden),c.zb(3),c.Hc(c.ec(5,17,"login.userForm.title")),c.zb(4),c.Ic("",c.ec(9,19,"login.userForm.login.label")," "),c.zb(2),c.jc("appTlpTooltip",c.ec(11,21,"login.userForm.login.tooltip"))("tlpPlacement","top"),c.zb(3),c.jc("readonly",t.state.isLoading)("placeholder",c.ec(15,23,"login.userForm.login.placeholder")),c.Ab("aria-hidden",t.state.isHidden),c.zb(3),c.jc("appVirtualKeyboard",i)("formToSubmit",e),c.zb(5),c.Hc(c.ec(22,25,"login.userForm.problem.link")),c.zb(2),c.jc("ngIf",t.state.isPasswordResetEnabled),c.zb(2),c.jc("ngClass",c.pc(29,re,t.state.isLoading))("disabled",!t.loginForm.valid)("appPiwikClickable","buttonNext"),c.zb(1),c.Ic(" ",c.ec(27,27,"login.userForm.next.button")," ")}},directives:[n.F,n.u,n.l,te.a,n.c,n.t,n.j,n.o,ie.a,v.m,v.k,ne.a],pipes:[R.c],styles:["@media (min-width:768px){.pass-check{transform:translate(-100%,50%);bottom:18px;left:-60px}}@media (min-width:1160px){.pass-check{left:-70px}}.login-auth-blocked .infoline,.login-auth-blocked .phone{padding-left:2.25rem;position:relative}.login-auth-blocked .infoline .number,.login-auth-blocked .phone .number{font-weight:700;display:inline-block;font-size:1.125rem}.login-auth-blocked .infoline .number a,.login-auth-blocked .phone .number a{color:inherit}.login-auth-blocked .infoline .ca,.login-auth-blocked .phone .ca{position:absolute;width:2.25rem;text-align:right;display:block;top:-.75rem;left:-.375rem;font-size:2.25rem}.login-auth-blocked .logout .ca{font-size:1.5rem;vertical-align:-7px}button.keyboard{display:none}"],encapsulation:2}),e})();const ce=["password"];function le(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div",22),c.Sb(1,"a",21),c.Zb("click",function(){return c.xc(e),c.cc().onResetPasswordClick()}),c.Sb(2,"span"),c.Gc(3),c.dc(4,"translate"),c.Rb(),c.Rb(),c.Rb()}2&e&&(c.zb(3),c.Hc(c.ec(4,1,"login.userForm.resetPassword.link")))}const ge=function(e){return{preloading:e}};let be=(()=>{class e{constructor(e,t,i,n,o){this.loginService=e,this.systemParameterService=t,this.modalAlertService=i,this.dictionaryService=n,this.translateService=o,this.state={isLoading:!1,isPasswordResetEnabled:!0},this.subscriptions=[]}ngOnInit(){this.initPasswordForm(),this.subscriptions.push(this.loginService.stateChanged.subscribe(e=>this.onServiceStateChange())),this.subscriptions.push(this.loginService.routeAnimationDone.subscribe(e=>this.passwordElementRef.nativeElement.focus())),this.state.isPasswordResetEnabled=this.systemParameterService.getPasswordResetEnabled()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}initPasswordForm(){this.passwordForm=new n.k($.a.demo?{password:new n.h($.a.password,[n.D.required])}:{password:new n.h(null,[n.D.required])})}onLoginProblemClick(){$.a.demo?this.modalAlertService.showUnavailableInDemoInfo():window.open(this.systemParameterService.getWebLoginProblemUrl())}onResetPasswordClick(){this.loginService.gotoResetPassword()}onSubmit(){!this.loginService.isCallingServer()&&this.passwordForm.valid&&this.loginService.submitPassword(this.passwordForm.value.password)}onCancel(){this.loginService.isCallingServer()||this.loginService.cancelPassword()}getSecurityImageAriaLabel(){const e=this.dictionaryService.getSecurityImageTranslateMap().get(this.loginService.getSafetyImageId());if(e){const t=this.translateService.instant("login.securityImage.name."+e);return this.translateService.instant("login.securityImage.imageName.label",{imgName:t})}return this.translateService.instant("login.securityImage.imageName.empty.label")}onServiceStateChange(){this.loginService.getMode(),this.state.isLoading=this.loginService.isCallingServer()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m.d),c.Mb(P.a),c.Mb(ee.b),c.Mb(y.a),c.Mb(R.d))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-form-password"]],viewQuery:function(e,t){if(1&e&&c.Oc(ce,!0),2&e){let e;c.tc(e=c.ac())&&(t.passwordElementRef=e.first)}},decls:43,vars:36,consts:[[1,"form-container","card-inner","h-100"],["autocomplete","off",3,"formGroup","ngSubmit"],["passwordFormRef",""],["type","password","value","",2,"display","none"],[1,"h4"],[1,"form-group","user-group","input-keyboard-group","not-too-wide"],["for","password"],[1,"sr-only"],["href","javascript:void(null);",1,"help-info","help-info-md",3,"appTlpTooltip","tlpPlacement"],[1,"ca","ca-question"],["id","password","formControlName","password","type","password","autocomplete","off","maxlength","30",1,"form-control",3,"readonly","placeholder"],["password",""],["href","javascript:void(null);",1,"keyboard",3,"appVirtualKeyboard","formToSubmit"],[1,"ca","ca-keyboard"],[1,"d-flex","flex-column-reverse"],[1,"buttons","buttons-between","align-items-center","flex-row-reverse","not-too-wide"],["id","login-pass-click-button","type","submit",1,"btn","btn-primary","btn-lg",3,"ngClass","disabled","appPiwikClickable"],["href","javascript:void(null);",1,"text-link-lg",3,"appPiwikClickable","click"],[1,"ca","ca-arrow-link-left"],["class","form-group not-too-wide text-right mb-4",4,"ngIf"],[1,"form-group","not-too-wide","text-right","my-2","my-lg-0"],["href","javascript:void(null);",1,"text-link-sm",3,"click"],[1,"form-group","not-too-wide","text-right","mb-4"]],template:function(e,t){if(1&e&&(c.Sb(0,"div",0),c.Sb(1,"form",1,2),c.Zb("ngSubmit",function(){return t.onSubmit()}),c.Nb(3,"input",3),c.Nb(4,"input",3),c.Nb(5,"input",3),c.Nb(6,"input",3),c.Nb(7,"input",3),c.Nb(8,"input",3),c.Sb(9,"h1",4),c.Gc(10),c.dc(11,"translate"),c.Rb(),c.Sb(12,"div",5),c.Sb(13,"label",6),c.Sb(14,"span",7),c.Gc(15),c.dc(16,"translate"),c.Rb(),c.Gc(17),c.dc(18,"translate"),c.Sb(19,"a",8),c.dc(20,"translate"),c.Nb(21,"i",9),c.Rb(),c.Rb(),c.Nb(22,"input",10,11),c.dc(24,"translate"),c.Sb(25,"a",12),c.Nb(26,"i",13),c.Rb(),c.Rb(),c.Sb(27,"div",14),c.Sb(28,"div",15),c.Sb(29,"button",16),c.Gc(30),c.dc(31,"translate"),c.Rb(),c.Sb(32,"a",17),c.Zb("click",function(){return t.onCancel()}),c.Nb(33,"i",18),c.Sb(34,"span"),c.Gc(35),c.dc(36,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Ec(37,le,5,3,"div",19),c.Sb(38,"div",20),c.Sb(39,"a",21),c.Zb("click",function(){return t.onLoginProblemClick()}),c.Sb(40,"span"),c.Gc(41),c.dc(42,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e){const e=c.uc(2),i=c.uc(23);c.zb(1),c.jc("formGroup",t.passwordForm),c.zb(9),c.Hc(c.ec(11,18,"login.passwordForm.title")),c.zb(5),c.Hc(c.ec(16,20,"login.securityImage.login.label")+" "+t.loginService.getLogin()+" "+t.getSecurityImageAriaLabel()),c.zb(2),c.Ic(" ",c.ec(18,22,"login.passwordForm.password.label")," "),c.zb(2),c.jc("appTlpTooltip",c.ec(20,24,"login.passwordForm.password.tooltip"))("tlpPlacement","top"),c.zb(3),c.jc("readonly",t.state.isLoading)("placeholder",c.ec(24,26,"login.passwordForm.password.placeholder")),c.zb(3),c.jc("appVirtualKeyboard",i)("formToSubmit",e),c.zb(4),c.jc("ngClass",c.pc(34,ge,t.state.isLoading))("disabled",!t.passwordForm.valid)("appPiwikClickable","buttonAccept"),c.zb(1),c.Ic(" ",c.ec(31,28,"login.passwordForm.confirm.button")," "),c.zb(2),c.jc("appPiwikClickable","buttonBack"),c.zb(3),c.Hc(c.ec(36,30,"login.passwordForm.back.link")),c.zb(2),c.jc("ngIf",t.state.isPasswordResetEnabled),c.zb(4),c.Hc(c.ec(42,32,"login.passwordForm.problem.link"))}},directives:[n.F,n.u,n.l,te.a,n.c,n.t,n.j,n.o,ie.a,v.k,ne.a,v.m],pipes:[R.c],styles:["@media (min-width:768px){.pass-check{transform:translate(-100%,50%);bottom:18px;left:-60px}}@media (min-width:1160px){.pass-check{left:-70px}}.login-auth-blocked .infoline,.login-auth-blocked .phone{padding-left:2.25rem;position:relative}.login-auth-blocked .infoline .number,.login-auth-blocked .phone .number{font-weight:700;display:inline-block;font-size:1.125rem}.login-auth-blocked .infoline .number a,.login-auth-blocked .phone .number a{color:inherit}.login-auth-blocked .infoline .ca,.login-auth-blocked .phone .ca{position:absolute;width:2.25rem;text-align:right;display:block;top:-.75rem;left:-.375rem;font-size:2.25rem}.login-auth-blocked .logout .ca{font-size:1.5rem;vertical-align:-7px}button.keyboard{display:none}"],encapsulation:2}),e})(),de=(()=>{class e{constructor(e){this.loginService=e,this.welcomeForm=new n.k({})}ngOnInit(){}onCancel(){this.loginService.cancelWelcome()}onSubmit(){this.loginService.submitWelcome()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m.d))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-form-welcome"]],decls:20,vars:16,consts:[[1,"form-container","card-inner","h-100"],[3,"formGroup","ngSubmit"],[1,"welcome-title"],[1,"subtitle1"],[1,"subtitle2"],[1,"form-group","buttons","buttons-between","align-items-center","mt-md-4"],["type","button",1,"btn","btn-empty","btn-lg","btn-cancel",3,"click"],[1,"ca","ca-close"],["type","submit",1,"btn","btn-primary","btn-lg"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"form",1),c.Zb("ngSubmit",function(){return t.onSubmit()}),c.Sb(2,"div",2),c.Gc(3),c.dc(4,"translate"),c.Rb(),c.Sb(5,"p",3),c.Gc(6),c.dc(7,"translate"),c.Rb(),c.Sb(8,"p",4),c.Gc(9),c.dc(10,"translate"),c.Rb(),c.Sb(11,"div",5),c.Sb(12,"button",6),c.Zb("click",function(){return t.onCancel()}),c.Nb(13,"i",7),c.Sb(14,"span"),c.Gc(15),c.dc(16,"translate"),c.Rb(),c.Rb(),c.Sb(17,"button",8),c.Gc(18),c.dc(19,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.zb(1),c.jc("formGroup",t.welcomeForm),c.zb(2),c.Ic(" ",c.ec(4,6,"login.welcomeForm.title")," "),c.zb(3),c.Hc(c.ec(7,8,"login.welcomeForm.subtitle1")),c.zb(3),c.Hc(c.ec(10,10,"login.welcomeForm.subtitle2")),c.zb(6),c.Hc(c.ec(16,12,"login.welcomeForm.cancel.link")),c.zb(3),c.Ic(" ",c.ec(19,14,"login.welcomeForm.confirm.button")," "))},directives:[n.F,n.u,n.l],pipes:[R.c],styles:['.welcome-title{margin-top:1rem;font-weight:700;font-size:1.2rem}.theme-default .welcome-title{color:#007e90}.theme-hicontrast .welcome-title{color:#9c0}.welcome-title:before{font-family:cawebfont;font-size:4rem;color:#9c0;content:"\\f033";top:1rem;position:relative;left:-.5rem}.subtitle1{margin-top:2rem}.subtitle2{margin-top:1.2rem;margin-bottom:.8rem}'],encapsulation:2}),e})();var ue=i("B1EN"),me=i("mTzD"),pe=i("90T7"),he=i("mUvy");const fe=["currentPassword"],Se=["imageButton"],we=["imgSelector"];function ve(e,t){if(1&e){const e=c.Tb();c.Sb(0,"app-password-check",27),c.Zb("passwordCheckFocused",function(t){return c.xc(e),c.cc(2).onPasswordCheckFocusChange(t)}),c.Rb()}if(2&e){const e=c.cc(2);c.jc("elementId","appPasswordCheck")("ariaLabelledby","password")("password",e.changeForm.get("password").value)("arrowOnRight",!0)("@visibilityFadingAnimation",void 0)}}function ye(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div",28),c.Zb("focus",function(){return c.xc(e),c.cc(2).onConfirmPasswordCheckFocus()})("blur",function(){return c.xc(e),c.cc(2).onConfirmPasswordCheckBlur()}),c.Sb(1,"div",29),c.Gc(2),c.dc(3,"translate"),c.Rb(),c.Rb()}if(2&e){const e=c.cc(2);c.jc("@visibilityFadingAnimation",void 0)("tabindex",e.changeForm.get("confirmPassword").invalid?0:-1),c.Ab("role",e.changeForm.get("confirmPassword").invalid?"alert":"presentation"),c.zb(2),c.Hc(c.ec(3,4,"login.changeForm.confirmPassword.error"))}}const Re=function(e){return{invalid:e}};function ke(e,t){if(1&e){const e=c.Tb();c.Qb(0),c.Sb(1,"div",8),c.Sb(2,"label",9),c.Gc(3),c.dc(4,"translate"),c.Sb(5,"a",10),c.dc(6,"translate"),c.Nb(7,"i",11),c.Rb(),c.Rb(),c.Nb(8,"input",12,13),c.Sb(10,"button",14),c.Nb(11,"i",15),c.Rb(),c.Rb(),c.Sb(12,"div",16),c.Sb(13,"label",17),c.Gc(14),c.dc(15,"translate"),c.Sb(16,"a",10),c.dc(17,"translate"),c.Nb(18,"i",11),c.Rb(),c.Rb(),c.Sb(19,"input",18,19),c.Zb("focus",function(){return c.xc(e),c.cc().onPasswordFocus()})("blur",function(){return c.xc(e),c.cc().onPasswordBlur()}),c.Rb(),c.Ec(21,ve,1,5,"app-password-check",20),c.Sb(22,"button",14),c.Nb(23,"i",15),c.Rb(),c.Rb(),c.Sb(24,"div",21),c.Sb(25,"label",22),c.Gc(26),c.dc(27,"translate"),c.Sb(28,"a",10),c.dc(29,"translate"),c.Nb(30,"i",11),c.Rb(),c.Rb(),c.Sb(31,"input",23,24),c.Zb("focus",function(){return c.xc(e),c.cc().onConfirmPasswordFocus()})("blur",function(){return c.xc(e),c.cc().onConfirmPasswordBlur()}),c.Rb(),c.Ec(33,ye,4,6,"div",25),c.Sb(34,"button",26),c.Nb(35,"i",15),c.Rb(),c.Rb(),c.Pb()}if(2&e){const e=c.uc(9),t=c.uc(20),i=c.uc(32),n=c.cc(),o=c.uc(2);c.zb(3),c.Ic("",c.ec(4,31,"login.changeForm.currentPassword.label")," "),c.zb(2),c.jc("appTlpTooltip",c.ec(6,33,"login.changeForm.currentPassword.tooltip"))("tlpPlacement","top"),c.zb(3),c.jc("ngClass",c.pc(43,Re,!n.changeForm.get("currentPassword").valid&&n.changeForm.get("currentPassword").touched)),c.zb(2),c.jc("appVirtualKeyboard",e)("formToSubmit",o),c.zb(4),c.Ic("",c.ec(15,35,"login.changeForm.password.label")," "),c.zb(2),c.jc("appTlpTooltip",c.ec(17,37,"login.changeForm.password.tooltip"))("tlpPlacement","top"),c.zb(3),c.jc("ngClass",c.pc(45,Re,!n.changeForm.get("password").valid&&n.changeForm.get("password").touched))("readonly",n.state.isLoading)("appValidationTooltip",n.getPasswordErrorMessage(n.changeForm.get("password")))("vtpPlacement","top"),c.Ab("aria-controls","appPasswordCheck")("aria-expanded",n.changeForm.get("password").invalid),c.zb(2),c.jc("ngIf",n.state.isPasswordFocused||n.state.isPasswordCheckFocused),c.zb(1),c.jc("appVirtualKeyboard",t)("formToSubmit",o),c.zb(4),c.Ic("",c.ec(27,39,"login.changeForm.confirmPassword.label")," "),c.zb(2),c.jc("appTlpTooltip",c.ec(29,41,"login.changeForm.confirmPassword.tooltip"))("tlpPlacement","top"),c.zb(3),c.jc("ngClass",c.pc(47,Re,!n.changeForm.get("confirmPassword").valid&&n.changeForm.get("confirmPassword").touched))("readonly",n.state.isLoading),c.Ab("aria-controls","confirmPasswordCheck")("aria-expanded",n.changeForm.get("confirmPassword").invalid),c.zb(2),c.jc("ngIf",(n.state.isConfirmPasswordFocused||n.state.isConfirmPasswordCheckFocused)&&n.state.isConfirmPasswordError),c.zb(1),c.jc("appVirtualKeyboard",i)("formToSubmit",o)("disabled",n.changeForm.get("password").invalid)("tabindex",n.changeForm.get("password").invalid?-1:0),c.Ab("aria-hidden",n.changeForm.get("password").invalid?"true":void 0)}}function Ce(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div",43),c.Sb(1,"a",44),c.Zb("click",function(i){c.xc(e);const n=t.$implicit;return c.cc(3).onImageClick(i,n)}),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit,i=c.cc(3);c.zb(1),c.jc("ngClass","img-"+e),c.Ab("aria-label",i.getSecurityImageAriaLabel(e))}}function Pe(e,t){if(1&e&&(c.Sb(0,"div",40,41),c.dc(2,"translate"),c.Ec(3,Ce,2,2,"div",42),c.Rb()),2&e){const e=c.cc(2);c.jc("@visibilityFadingAnimation",void 0),c.Ab("aria-label",c.ec(2,3,"login.changeForm.imageSelector.aria.label")),c.zb(3),c.jc("ngForOf",e.getSecurityImageNames())}}const Ie=function(e){return{"img-selector-visible":e}},xe=function(e){return{selected:e}};function Fe(e,t){if(1&e){const e=c.Tb();c.Qb(0),c.Sb(1,"div",30),c.Sb(2,"label"),c.Gc(3),c.dc(4,"translate"),c.Rb(),c.Sb(5,"div",31),c.Sb(6,"div",32),c.Nb(7,"i",33),c.Sb(8,"p",34),c.Gc(9),c.dc(10,"translate"),c.Rb(),c.Rb(),c.Sb(11,"a",35,36),c.Zb("click",function(t){return c.xc(e),c.cc().onImageSelectorClick(t)}),c.Nb(13,"div",37),c.Sb(14,"strong",38),c.Gc(15),c.dc(16,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Ec(17,Pe,4,5,"div",39),c.Rb(),c.Pb()}if(2&e){const e=c.cc();c.zb(1),c.jc("ngClass",c.pc(16,Ie,e.state.isImageSelectorVisible)),c.zb(2),c.Hc(c.ec(4,10,"login.changeForm.image.label")),c.zb(6),c.Hc(c.ec(10,12,"login.changeForm.image.tooltip")),c.zb(2),c.jc("ngClass",c.pc(18,xe,e.changeForm.get("imageName").valid)),c.Ab("aria-expanded",e.state.isImageSelectorVisible||e.state.isScreenMdDown)("aria-label",e.getSelectedSecurityImageAriaLabel()),c.zb(2),c.jc("ngClass",e.changeForm.get("imageName").valid?"img-"+e.changeForm.get("imageName").value:""),c.Ab("aria-label",e.getSelectedSecurityImageAriaLabel()),c.zb(2),c.Hc(c.ec(16,14,"login.changeForm.image.button")),c.zb(2),c.jc("ngIf",e.state.isImageSelectorVisible||e.state.isScreenMdDown)}}function Ne(e,t){if(1&e){const e=c.Tb();c.Qb(0),c.Sb(1,"div",45),c.Sb(2,"div"),c.Sb(3,"a",46),c.Zb("click",function(){return c.xc(e),c.cc().onBankListClick()}),c.Sb(4,"span"),c.Gc(5),c.dc(6,"translate"),c.Rb(),c.Rb(),c.Sb(7,"p",47),c.Gc(8),c.dc(9,"translate"),c.Rb(),c.Sb(10,"p",48),c.Nb(11,"i",49),c.Sb(12,"span",50),c.Gc(13,"19 019"),c.Rb(),c.Rb(),c.Sb(14,"p",51),c.Nb(15,"i",52),c.Sb(16,"span",50),c.Gc(17,"+48 71 35 49 009"),c.Rb(),c.Rb(),c.Rb(),c.Sb(18,"div",53),c.Sb(19,"a",54),c.Zb("click",function(){return c.xc(e),c.cc().onLogOut()}),c.Nb(20,"i",55),c.Sb(21,"span"),c.Gc(22),c.dc(23,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Pb()}2&e&&(c.zb(5),c.Hc(c.ec(6,3,"login.changeForm.bank.list")),c.zb(3),c.Hc(c.ec(9,5,"login.changeForm.helpline")),c.zb(14),c.Hc(c.ec(23,7,"login.changeForm.logout")))}function ze(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",59),c.Zb("click",function(){return c.xc(e),c.cc(2).onCancel()}),c.Nb(1,"i",60),c.Sb(2,"span"),c.Gc(3),c.dc(4,"translate"),c.Rb(),c.Rb()}2&e&&(c.zb(3),c.Hc(c.ec(4,1,"login.changeForm.cancel.link")))}function Me(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",59),c.Zb("click",function(){return c.xc(e),c.cc(2).onPostpone()}),c.Nb(1,"i",60),c.Sb(2,"span"),c.Gc(3),c.dc(4,"translate"),c.Rb(),c.Rb()}2&e&&(c.zb(3),c.Hc(c.ec(4,1,"login.changeForm.postpone.link")))}const Te=function(e){return{preloading:e}};function Ee(e,t){if(1&e&&(c.Sb(0,"div",56),c.Ec(1,ze,5,3,"button",57),c.Ec(2,Me,5,3,"button",57),c.Sb(3,"button",58),c.Gc(4),c.dc(5,"translate"),c.Rb(),c.Rb()),2&e){const e=c.cc();c.zb(1),c.jc("ngIf",e.state.isCancelButtonVisible),c.zb(1),c.jc("ngIf",e.state.isPostponeButtonVisible),c.zb(1),c.jc("ngClass",c.pc(7,Te,e.state.isLoading))("disabled",!e.changeForm.valid),c.zb(1),c.Ic(" ",c.ec(5,5,"login.changeForm.confirm.button")," ")}}const Ae=function(e){return{"login-auth-blocked":e}},Oe=function(e){return{"not-too-wide":e}};let Le=(()=>{class e{constructor(e,t,i,n,o){this.loginService=e,this.translateService=t,this.dictionaryService=i,this.appStateService=n,this.systemParemeterService=o,this.subscriptions=[],this.state={isImageChange:!1,isPasswordChange:!1,isAuthorisationChange:!1,isPasswordChangeRequired:!1,isPasswordChangeSuggested:!1,isAuthorisationChangeRequired:!1,isPasswordFocused:!1,isPasswordCheckFocused:!1,isConfirmPasswordFocused:!1,isConfirmPasswordCheckFocused:!1,isConfirmPasswordError:!1,isLoading:!1,isScreenMdDown:this.appStateService.isMdDown(),isCancelButtonVisible:!1,isPostponeButtonVisible:!1,isImageSelectorVisible:!1,labels:{title:"",subtitle:""}}}ngOnInit(){this.initState(),this.initDynamicLabels(),this.initChangeForm(),this.subscriptions.push(this.appStateService.screenContainerSizeChange.subscribe(()=>this.onScreenContainerSizeChange())),this.subscriptions.push(this.translateService.onLangChange.subscribe(()=>this.initDynamicLabels())),this.subscriptions.push(this.loginService.stateChanged.subscribe(e=>this.onServiceStateChange())),this.subscriptions.push(this.loginService.routeAnimationDone.subscribe(e=>{this.state.isPasswordChange?this.currentPasswordElementRef.nativeElement.focus():this.state.isImageChange&&this.imageButtonElementRef.nativeElement.focus()})),this.subscriptions.push(this.changeForm.get("password").valueChanges.subscribe(()=>this.onPasswordChange())),this.subscriptions.push(this.changeForm.get("confirmPassword").valueChanges.subscribe(e=>this.onConfirmPasswordChange.bind(this)(e)))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}initState(){this.state.isImageChange=[m.b.CHANGE_IMAGE_REQUIRED,m.b.CHANGE_IMAGE_PASSWORD_REQUIRED].indexOf(this.loginService.getChangeMode())>=0,this.state.isPasswordChange=[m.b.CHANGE_IMAGE_PASSWORD_REQUIRED,m.b.CHANGE_PASSWORD_REQUIRED,m.b.CHANGE_PASSWORD_PROPOSAL].indexOf(this.loginService.getChangeMode())>=0,this.state.isAuthorisationChange=[m.b.CHANGE_AUTHORISATION_REQUIRED].indexOf(this.loginService.getChangeMode())>=0,this.state.isPasswordChangeRequired=[m.b.CHANGE_IMAGE_PASSWORD_REQUIRED,m.b.CHANGE_PASSWORD_REQUIRED].indexOf(this.loginService.getChangeMode())>=0,this.state.isPasswordChangeSuggested=m.b.CHANGE_PASSWORD_PROPOSAL===this.loginService.getChangeMode(),this.state.isAuthorisationChangeRequired=m.b.CHANGE_AUTHORISATION_REQUIRED===this.loginService.getChangeMode(),this.state.isCancelButtonVisible=this.state.isImageChange||this.state.isPasswordChangeRequired||this.state.isPasswordChangeSuggested,this.state.isPostponeButtonVisible=!this.state.isImageChange&&!this.state.isPasswordChangeRequired}onScreenContainerSizeChange(){this.state.isScreenMdDown=this.appStateService.isMdDown()}initDynamicLabels(){this.state.labels.title=this.translateService.instant(this.state.isImageChange?"login.changeForm.title.image":this.state.isPasswordChange?"login.changeForm.title.password":"login.changeForm.title.authorisation"),this.state.labels.subtitle=(this.loginService.isChangeFirstStep()?this.translateService.instant("login.changeForm.subtitle.step1"):"")+this.translateService.instant(this.state.isImageChange?"login.changeForm.subtitle.image.required":this.state.isAuthorisationChange?"login.changeForm.subtitle.authorisation.required":this.state.isPasswordChangeRequired?"login.changeForm.subtitle.password.required":"login.changeForm.subtitle.password.proposed")}initChangeForm(){this.changeForm=new n.k({currentPassword:new n.h(null,this.state.isPasswordChange?[n.D.required]:[]),password:new n.h(null,this.state.isPasswordChange?[n.D.required,this.invalidNewPassword.bind(this)]:[]),confirmPassword:new n.h({value:null,disabled:!0},this.state.isPasswordChange?[n.D.required,this.invalidConfirmPassword.bind(this)]:[]),imageName:new n.h(null,this.state.isImageChange?[n.D.required]:[])})}getSecurityImageNames(){return this.dictionaryService.getSecurityImageNames()}getSelectedSecurityImageAriaLabel(){const e=this.changeForm.get("imageName").valid?this.changeForm.get("imageName").value:"";return this.getSecurityImageAriaLabelInternal(e,!0)}getSecurityImageAriaLabel(e){return this.getSecurityImageAriaLabelInternal(e,!1)}getSecurityImageAriaLabelInternal(e,t){const i=this.dictionaryService.getSecurityImageTranslateMap().get(e);if(i){const e=this.translateService.instant("login.securityImage.name."+i);return this.translateService.instant(t?"login.securityImage.imageName.selected.label":"login.securityImage.imageName.label",{imgName:e})}return this.translateService.instant("login.securityImage.imageName.empty.label")}onPasswordFocus(){this.state.isPasswordFocused=!0,this.setIsImageSelectorVisible(!1)}onPasswordBlur(){setTimeout(()=>this.state.isPasswordFocused=!1)}onPasswordCheckFocusChange(e){e?this.state.isPasswordCheckFocused=!0:setTimeout(()=>this.state.isPasswordCheckFocused=!1)}onConfirmPasswordFocus(){this.state.isConfirmPasswordFocused=!0,this.setIsImageSelectorVisible(!1)}onConfirmPasswordBlur(){setTimeout(()=>this.state.isConfirmPasswordFocused=!1)}onConfirmPasswordCheckFocus(){this.state.isConfirmPasswordCheckFocused=!0}onConfirmPasswordCheckBlur(){setTimeout(()=>this.state.isConfirmPasswordCheckFocused=!1)}onImageSelectorClick(e){e.stopPropagation(),this.setIsImageSelectorVisible(!this.state.isImageSelectorVisible)}onDocumentClick(e){this.state.isImageSelectorVisible&&this.setIsImageSelectorVisible(!1)}setIsImageSelectorVisible(e){this.state.isImageSelectorVisible=e,this.updateImageSelectorPosition()}onWindowResize(){this.updateImageSelectorPosition()}updateImageSelectorPosition(){setTimeout(()=>{if(this.state.isImageSelectorVisible&&this.imgSelectorElementRef){const e=jQuery(this.imgSelectorElementRef.nativeElement),t=e.parents(".form-container");if(e[0]&&t[0]){e.removeAttr("style");const i=t.outerHeight(),n=t.offset().top;e.css({"max-width":.85*i+"px"}),e.css({"max-height":i+"px"});const o=e.offset().top,a=e.outerHeight();(n>o||n+i<o+a)&&e.css({marginTop:n+i-(o+a)+24,marginBottom:0})}}})}onImageClick(e,t){this.changeForm.patchValue({imageName:t})}onSubmit(){!this.loginService.isCallingServer()&&this.changeForm.valid&&this.loginService.submitChange({oldPassword:this.changeForm.value.currentPassword,newPassword:this.changeForm.value.password,safetyImage:this.changeForm.value.imageName?{id:this.changeForm.value.imageName}:null})}onCancel(){this.loginService.isCallingServer()||this.loginService.cancelChange()}onPostpone(){this.loginService.isCallingServer()||this.loginService.postponeChange()}onLogOut(){this.loginService.isCallingServer()||this.loginService.logout()}onBankListClick(){window.open(this.systemParemeterService.getBranchesAndAtmsListUrl(),"_blank")}onPasswordChange(){this.changeForm.patchValue({confirmPassword:null}),this.setConfirmPasswordAccess()}setConfirmPasswordAccess(){this.changeForm.get("password").value&&this.changeForm.get("password").valid?this.changeForm.get("confirmPassword").enable():this.changeForm.get("confirmPassword").disable()}onConfirmPasswordChange(e){this.state.isConfirmPasswordError=e&&e.length>0&&this.changeForm.get("password").value!==e}onServiceStateChange(){this.state.isLoading=this.loginService.isCallingServer()}invalidNewPassword(e){const t=this.isDifferentPasswords(this.changeForm?this.changeForm.get("currentPassword").value:null,e.value),i=ue.a.hasInvalidChar(e.value),n=ue.a.hasInvalidCharIncludingSpace(e.value),o=ue.a.hasValidLength(e.value),a=ue.a.hasLowerCaseChar(e.value),r=ue.a.hasUpperCaseChar(e.value),s=ue.a.hasDigitChar(e.value);let c=null;return i&&!n?c={invalidSpace:!0}:i?c={invalidChar:!0}:t?o&&a&&r&&s||(c={invalid:!0}):c={theSameAsCurrent:!0},c}getPasswordErrorMessage(e){let t=null;return e.errors&&(e.errors.invalidSpace?t=this.translateService.instant("login.changeForm.password.invalidSpace.tooltip"):e.errors.invalidChar?t=this.translateService.instant("login.changeForm.password.invalidChar.tooltip"):e.errors.theSameAsCurrent&&(t=this.translateService.instant("login.changeForm.password.theSameAsCurrent.tooltip"))),t}isDifferentPasswords(e,t){return!e||0===e.length||e!==t}invalidConfirmPassword(e){return this.changeForm&&this.changeForm.get("password").value!==e.value?{invalid:!0}:null}requiredImageName(e){return this.state.isImageChange&&!e.value?{required:!0}:null}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m.d),c.Mb(R.d),c.Mb(y.a),c.Mb(p.a),c.Mb(P.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-form-change"]],viewQuery:function(e,t){if(1&e&&(c.Oc(fe,!0),c.Oc(Se,!0),c.Oc(we,!0)),2&e){let e;c.tc(e=c.ac())&&(t.currentPasswordElementRef=e.first),c.tc(e=c.ac())&&(t.imageButtonElementRef=e.first),c.tc(e=c.ac())&&(t.imgSelectorElementRef=e.first)}},hostBindings:function(e,t){1&e&&c.Zb("click",function(e){return t.onDocumentClick(e)},!1,c.vc)("resize",function(){return t.onWindowResize()},!1,c.wc)},decls:17,vars:13,consts:[[1,"form-container","card-inner","h-100",2,"min-height","500px",3,"ngClass"],[3,"formGroup","ngSubmit"],["changeFormRef",""],["type","password","value","",2,"display","none"],[1,"h4"],[3,"ngClass"],[4,"ngIf"],["class","form-group buttons buttons-between align-items-center mt-md-4",4,"ngIf"],[1,"form-group","input-keyboard-group","current-pass-group","not-too-wide"],["for","currentPassword"],["href","javascript:void(null);",1,"help-info","help-info-md",3,"appTlpTooltip","tlpPlacement"],[1,"ca","ca-question"],["formControlName","currentPassword","id","currentPassword","type","password","autocomplete","off","maxlength","20",1,"form-control",3,"ngClass"],["currentPassword",""],["type","button","href","javascript:void(null);",1,"keyboard",3,"appVirtualKeyboard","formToSubmit"],[1,"ca","ca-keyboard"],[1,"form-group","input-keyboard-group","new-pass-group","not-too-wide"],["for","password"],["formControlName","password","id","password","name","password","type","password","autocomplete","off",1,"form-control",3,"ngClass","readonly","appValidationTooltip","vtpPlacement","focus","blur"],["password",""],[3,"elementId","ariaLabelledby","password","arrowOnRight","passwordCheckFocused",4,"ngIf"],[1,"form-group","input-keyboard-group","not-too-wide"],["for","confirmPassword"],["formControlName","confirmPassword","id","confirmPassword","name","confirmPassword","type","password","autocomplete","off",1,"form-control",3,"ngClass","readonly","focus","blur"],["confirmPassword",""],["id","confirmPasswordCheck","class","validation-check pass-check visible","aria-labelledby","confirmPassword","aria-live","polite",3,"tabindex","focus","blur",4,"ngIf"],["type","button","href","javascript:void(null);",1,"keyboard",3,"appVirtualKeyboard","formToSubmit","disabled","tabindex"],[3,"elementId","ariaLabelledby","password","arrowOnRight","passwordCheckFocused"],["id","confirmPasswordCheck","aria-labelledby","confirmPassword","aria-live","polite",1,"validation-check","pass-check","visible",3,"tabindex","focus","blur"],[1,"check"],[1,"form-group",3,"ngClass"],[1,"d-flex","flex-column","flex-lg-row","align-items-lg-center","flex-lg-row-reverse"],[1,"security-img-info"],[1,"ca","ca-info"],[1,"ml-md-4"],["href","javascript:void(null);","aria-controls","securityImageSelector","aria-live","polite","id","securityImageSelectorActivator",1,"select-security-img-btn",3,"ngClass","click"],["imageButton",""],[1,"bg",3,"ngClass"],["aria-hidden","true",1,"font-600"],["id","securityImageSelector","class","img-selector clearfix","aria-labelledby","securityImageSelectorActivator","aria-modal","true",4,"ngIf"],["id","securityImageSelector","aria-labelledby","securityImageSelectorActivator","aria-modal","true",1,"img-selector","clearfix"],["imgSelector",""],["class","img-container",4,"ngFor","ngForOf"],[1,"img-container"],["href","javascript:void(null);","role","listItem",1,"security-img-btn",3,"ngClass","click"],[1,"d-flex","flex-column"],["href","javascript:void(null);",1,"text-link","font-400",3,"click"],[1,"font-400"],[1,"infoline"],[1,"ca","ca-infoline"],[1,"number"],[1,"infoline","mb-x2"],[1,"ca","ca-phone"],[1,"text-right"],["href","javascript:void(null);",1,"text-link","text-right","logout",3,"click"],[1,"ca","ca-turnoff"],[1,"form-group","buttons","buttons-between","align-items-center","mt-md-4"],["type","button","class","btn btn-empty btn-lg btn-cancel",3,"click",4,"ngIf"],["id","login-newpass-click-button","type","submit",1,"btn","btn-primary","btn-lg",3,"ngClass","disabled"],["type","button",1,"btn","btn-empty","btn-lg","btn-cancel",3,"click"],[1,"ca","ca-close"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"form",1,2),c.Zb("ngSubmit",function(){return t.onSubmit()}),c.Nb(3,"input",3),c.Nb(4,"input",3),c.Nb(5,"input",3),c.Nb(6,"input",3),c.Nb(7,"input",3),c.Nb(8,"input",3),c.Sb(9,"h1",4),c.Gc(10),c.Rb(),c.Sb(11,"p",5),c.Gc(12),c.Rb(),c.Ec(13,ke,36,49,"ng-container",6),c.Ec(14,Fe,18,20,"ng-container",6),c.Ec(15,Ne,24,9,"ng-container",6),c.Ec(16,Ee,6,9,"div",7),c.Rb(),c.Rb()),2&e&&(c.jc("ngClass",c.pc(9,Ae,t.state.isAuthorisationChange)),c.zb(1),c.jc("formGroup",t.changeForm),c.zb(9),c.Hc(t.state.labels.title),c.zb(1),c.jc("ngClass",c.pc(11,Oe,!t.state.isAuthorisationChange)),c.zb(1),c.Hc(t.state.labels.subtitle),c.zb(1),c.jc("ngIf",t.state.isPasswordChange),c.zb(1),c.jc("ngIf",t.state.isImageChange),c.zb(1),c.jc("ngIf",t.state.isAuthorisationChange),c.zb(1),c.jc("ngIf",!t.state.isAuthorisationChange))},directives:[v.k,n.F,n.u,n.l,v.m,te.a,n.c,n.t,n.j,n.o,ie.a,pe.a,he.a,v.l],pipes:[R.c],styles:["@media (min-width:768px){.pass-check{transform:translate(-100%,50%);bottom:18px;left:-60px}}@media (min-width:1160px){.pass-check{left:-70px}}.login-auth-blocked .infoline,.login-auth-blocked .phone{padding-left:2.25rem;position:relative}.login-auth-blocked .infoline .number,.login-auth-blocked .phone .number{font-weight:700;display:inline-block;font-size:1.125rem}.login-auth-blocked .infoline .number a,.login-auth-blocked .phone .number a{color:inherit}.login-auth-blocked .infoline .ca,.login-auth-blocked .phone .ca{position:absolute;width:2.25rem;text-align:right;display:block;top:-.75rem;left:-.375rem;font-size:2.25rem}.login-auth-blocked .logout .ca{font-size:1.5rem;vertical-align:-7px}button.keyboard{display:none}"],encapsulation:2,data:{animation:[me.b]}}),e})();var je=i("0+e1"),Ge=i("V9MM");const He=["authorisation"];function De(e,t){if(1&e&&(c.Sb(0,"h1",4),c.Gc(1),c.Rb(),c.Sb(2,"p",5),c.Gc(3),c.Rb()),2&e){const e=c.cc();c.zb(1),c.Hc(e.state.labels.title),c.zb(2),c.Hc(e.state.labels.subtitle)}}let _e=(()=>{class e{constructor(e,t,i){this.loginService=e,this.appDatePipe=t,this.translateService=i,this.subscriptions=[],this.state={isLoading:!1,authorisationData:null,labels:{title:"",subtitle:""}}}ngOnInit(){this.state.authorisationData={authorisationDTO:this.loginService.getAuthorisationDTO(),businessMessageId:this.loginService.getBusinessMessageId(),submitCallback:this.loginService.confirmChange.bind(this.loginService)},this.subscriptions.push(this.authorisationComponent.cancel.subscribe(()=>{this.loginService.cancelChangeConfirmation()})),this.subscriptions.push(this.authorisationComponent.complete.subscribe(e=>{this.loginService.onConfirmChangeFinished(e.applicationError)})),this.subscriptions.push(this.loginService.stateChanged.subscribe(e=>{this.authorisationComponent.disabled=this.loginService.isCallingServer()})),this.subscriptions.push(this.loginService.routeAnimationDone.subscribe(e=>{this.authorisationComponent.focus()})),this.initDynamicLabels()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}initDynamicLabels(){const e=this.loginService.getChangeMode()===m.b.CHANGE_IMAGE_REQUIRED,t=this.loginService.isChangeFirstStep()&&this.loginService.isTwoStepChange();this.state.labels.title=this.translateService.instant(e?"login.confirmForm.title.image":"login.confirmForm.title.password"),this.state.labels.subtitle=t?"":this.translateService.instant("login.confirmForm.subtitle.web.redirection.info")}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m.d),c.Mb(je.a),c.Mb(R.d))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-form-confirm"]],viewQuery:function(e,t){if(1&e&&c.Cc(He,!0),2&e){let e;c.tc(e=c.ac())&&(t.authorisationComponent=e.first)}},decls:7,vars:10,consts:[[1,"form-container","card-inner","h-100"],["authHeaderTemplate",""],[3,"data","headerTemplate","isCancelArrowsView","cancelI18Text","submitI18Text","largeCancelButton"],["authorisation",""],[1,"h4"],[1,"not-too-wide"]],template:function(e,t){if(1&e&&(c.Sb(0,"div",0),c.Ec(1,De,4,2,"ng-template",null,1,c.Fc),c.Nb(3,"app-common-authorisation",2,3),c.dc(5,"translate"),c.dc(6,"translate"),c.Rb()),2&e){const e=c.uc(2);c.zb(3),c.jc("data",t.state.authorisationData)("headerTemplate",e)("isCancelArrowsView",!0)("cancelI18Text",c.ec(5,6,"login.confirmForm.cancel.link"))("submitI18Text",c.ec(6,8,"login.confirmForm.confirm.button"))("largeCancelButton",!0)}},directives:[Ge.a],pipes:[R.c],styles:["@media (min-width:768px){.pass-check{transform:translate(-100%,50%);bottom:18px;left:-60px}}@media (min-width:1160px){.pass-check{left:-70px}}.login-auth-blocked .infoline,.login-auth-blocked .phone{padding-left:2.25rem;position:relative}.login-auth-blocked .infoline .number,.login-auth-blocked .phone .number{font-weight:700;display:inline-block;font-size:1.125rem}.login-auth-blocked .infoline .number a,.login-auth-blocked .phone .number a{color:inherit}.login-auth-blocked .infoline .ca,.login-auth-blocked .phone .ca{position:absolute;width:2.25rem;text-align:right;display:block;top:-.75rem;left:-.375rem;font-size:2.25rem}.login-auth-blocked .logout .ca{font-size:1.5rem;vertical-align:-7px}button.keyboard{display:none}"],encapsulation:2}),e})();const Ue=["authorisation"];function Ve(e,t){1&e&&(c.Sb(0,"h1",4),c.Gc(1),c.dc(2,"translate"),c.Rb(),c.Sb(3,"p",5),c.Gc(4),c.dc(5,"translate"),c.Rb()),2&e&&(c.zb(1),c.Hc(c.ec(2,2,"login.scaConfirmForm.title")),c.zb(3),c.Hc(c.ec(5,4,"login.scaConfirmForm.subtitle")))}let We=(()=>{class e{constructor(e){this.loginService=e,this.subscriptions=[],this.state={isLoading:!1,authorisationData:null}}ngOnInit(){this.state.authorisationData={authorisationDTO:this.loginService.getAuthorisationDTO(),businessMessageId:this.loginService.getBusinessMessageId(),submitCallback:this.loginService.confirmSca.bind(this.loginService)},this.subscriptions.push(this.authorisationComponent.cancel.subscribe(()=>{this.loginService.cancelScaConfirmation()})),this.subscriptions.push(this.authorisationComponent.complete.subscribe(e=>{this.loginService.onConfirmScaFinished(e.applicationError)})),this.subscriptions.push(this.loginService.stateChanged.subscribe(e=>{this.authorisationComponent.disabled=this.loginService.isCallingServer()})),this.subscriptions.push(this.loginService.routeAnimationDone.subscribe(e=>{this.authorisationComponent.focus()}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m.d))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-form-sca-confirm"]],viewQuery:function(e,t){if(1&e&&c.Cc(Ue,!0),2&e){let e;c.tc(e=c.ac())&&(t.authorisationComponent=e.first)}},decls:6,vars:7,consts:[[1,"form-container","card-inner","h-100"],["authHeaderTemplate",""],[3,"data","headerTemplate","isCancelArrowsView","cancelI18Text","largeCancelButton"],["authorisation",""],[1,"h4"],[1,"not-too-wide"]],template:function(e,t){if(1&e&&(c.Sb(0,"div",0),c.Ec(1,Ve,6,6,"ng-template",null,1,c.Fc),c.Nb(3,"app-common-authorisation",2,3),c.dc(5,"translate"),c.Rb()),2&e){const e=c.uc(2);c.zb(3),c.jc("data",t.state.authorisationData)("headerTemplate",e)("isCancelArrowsView",!0)("cancelI18Text",c.ec(5,5,"login.scaConfirmForm.cancel.link"))("largeCancelButton",!0)}},directives:[Ge.a],pipes:[R.c],styles:["@media (min-width:768px){.pass-check{transform:translate(-100%,50%);bottom:18px;left:-60px}}@media (min-width:1160px){.pass-check{left:-70px}}.login-auth-blocked .infoline,.login-auth-blocked .phone{padding-left:2.25rem;position:relative}.login-auth-blocked .infoline .number,.login-auth-blocked .phone .number{font-weight:700;display:inline-block;font-size:1.125rem}.login-auth-blocked .infoline .number a,.login-auth-blocked .phone .number a{color:inherit}.login-auth-blocked .infoline .ca,.login-auth-blocked .phone .ca{position:absolute;width:2.25rem;text-align:right;display:block;top:-.75rem;left:-.375rem;font-size:2.25rem}.login-auth-blocked .logout .ca{font-size:1.5rem;vertical-align:-7px}button.keyboard{display:none}"],encapsulation:2}),e})(),Be=(()=>{class e{constructor(e){this.systemParameterService=e}ngOnInit(){const e=1e3*this.systemParameterService.getWebLogoutRedirectTime();e>0&&(this.timerRef=setTimeout(()=>{window.location.href=this.systemParameterService.getWebLogoutRedirectUrl()},e))}ngOnDestroy(){this.timerRef&&clearTimeout(this.timerRef)}onGotoHomeClick(){window.location.href=this.systemParameterService.getWebStartPageLink()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(P.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-goto-home"]],decls:8,vars:3,consts:[[1,"goto-home","card"],[1,"card-inner"],[1,"form-group","text-right"],["href","javascript:void(null);",1,"text-link-lg",3,"click"],[1,"ca","ca-arrow-link"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"a",3),c.Zb("click",function(){return t.onGotoHomeClick()}),c.Nb(4,"i",4),c.Sb(5,"span"),c.Gc(6),c.dc(7,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.zb(6),c.Hc(c.ec(7,1,"login.gotoHome.home.link")))},pipes:[R.c],encapsulation:2}),e})();var qe=i("xNyP"),Ze=i("qlid"),Ke=i("0YSl");const Qe=["login"];function Ye(e,t){1&e&&(c.Sb(0,"div",27),c.Nb(1,"i",28),c.Gc(2),c.dc(3,"translate"),c.Rb()),2&e&&(c.zb(2),c.Ic(" ",c.ec(3,1,"login.resetPasswordForm.pesel.error")," "))}function Je(e,t){1&e&&(c.Sb(0,"div",27),c.Nb(1,"i",28),c.Gc(2),c.dc(3,"translate"),c.Rb()),2&e&&(c.zb(2),c.Ic(" ",c.ec(3,1,"login.resetPasswordForm.phoneNumber.error")," "))}const Xe=function(e){return{preloading:e}};let $e=(()=>{class e{constructor(e,t,i){this.caValidators=e,this.validationHelper=t,this.loginService=i,this.subscriptions=[],this.state={isLoading:!1,isHidden:!1}}ngOnInit(){this.initResetPasswordForm(),this.subscriptions.push(this.loginService.stateChanged.subscribe(e=>this.onServiceStateChange())),this.subscriptions.push(this.loginService.routeAnimationDone.subscribe(e=>this.loginElementRef.nativeElement.focus()))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}initResetPasswordForm(){this.resetPasswordForm=new n.k({login:new n.h(null,[n.D.required]),pesel:new n.h(null,[n.D.required,n.D.minLength(11)]),motherMaidenName:new n.h(null,[n.D.required]),phoneNumber:new n.h(null,[n.D.required,this.caValidators.phone])})}onCancel(){this.loginService.isCallingServer()||this.loginService.cancelResetPassword()}onSubmit(){if(!this.loginService.isCallingServer()&&this.resetPasswordForm.valid){const e={login:this.resetPasswordForm.getRawValue().login,pesel:this.resetPasswordForm.getRawValue().pesel,familyName:this.resetPasswordForm.getRawValue().motherMaidenName,phone:this.resetPasswordForm.getRawValue().phoneNumber};this.loginService.submitResetPassword(e)}}onServiceStateChange(){this.state.isLoading=this.loginService.isCallingServer()}isError(e,t){return this.validationHelper.isError(this.resetPasswordForm,e,t)}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(qe.a),c.Mb(Ze.a),c.Mb(m.d))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-form-reset-password"]],viewQuery:function(e,t){if(1&e&&c.Oc(Qe,!0),2&e){let e;c.tc(e=c.ac())&&(t.loginElementRef=e.first)}},decls:68,vars:74,consts:[[1,"form-container","card-inner","h-100","login-auth-blocked"],["autocomplete","off",3,"formGroup","ngSubmit"],["resetPasswordFormRef",""],[1,"h4"],[1,"form-group","not-too-wide"],[1,"form-group","input-keyboard-group","user-group","not-too-wide"],["for","login"],["href","javascript:void(null);",1,"help-info","help-info-md",3,"appTlpTooltip","tlpPlacement"],[1,"ca","ca-question"],["id","login","formControlName","login","type","text","autocomplete","off","maxlength","30",1,"form-control",3,"readonly","placeholder"],["login",""],["href","javascript:void(null);",1,"keyboard",3,"appVirtualKeyboard","formToSubmit"],[1,"ca","ca-keyboard"],["for","pesel"],["id","pesel","formControlName","pesel","type","tel","autocomplete","off","maxlength","11",1,"form-control",3,"readonly","placeholder"],["pesel",""],["class","form-text invalid mb-4",4,"ngIf"],["for","motherMaidenName"],["id","motherMaidenName","formControlName","motherMaidenName","type","text","autocomplete","off","maxlength","100",1,"form-control",3,"readonly","placeholder"],["motherMaidenName",""],["for","phoneNumber"],["id","phoneNumber","formControlName","phoneNumber","type","tel","autocomplete","off","appPhone","",1,"form-control",3,"readonly","placeholder","local"],["phoneNumber",""],[1,"buttons","buttons-right","buttons-between","not-too-wide","mt-x4"],["href","javascript:void(null);",1,"btn","btn-empty","btn-cancel",3,"appPiwikClickable","click"],[1,"ca","ca-close"],["id","login-user-click-button","type","submit",1,"btn","btn-primary","btn-lg",3,"ngClass","disabled","appPiwikClickable"],[1,"form-text","invalid","mb-4"],[1,"ca","ca-ostrzezenie3"]],template:function(e,t){if(1&e&&(c.Sb(0,"div",0),c.Sb(1,"form",1,2),c.Zb("ngSubmit",function(){return t.onSubmit()}),c.Sb(3,"h1",3),c.Gc(4),c.dc(5,"translate"),c.Rb(),c.Sb(6,"div",4),c.Sb(7,"p"),c.Gc(8),c.dc(9,"translate"),c.Rb(),c.Rb(),c.Sb(10,"div",5),c.Sb(11,"label",6),c.Gc(12),c.dc(13,"translate"),c.Sb(14,"a",7),c.dc(15,"translate"),c.Nb(16,"i",8),c.Rb(),c.Rb(),c.Nb(17,"input",9,10),c.dc(19,"translate"),c.Sb(20,"a",11),c.Nb(21,"i",12),c.Rb(),c.Rb(),c.Sb(22,"div",5),c.Sb(23,"label",13),c.Gc(24),c.dc(25,"translate"),c.Sb(26,"a",7),c.dc(27,"translate"),c.Nb(28,"i",8),c.Rb(),c.Rb(),c.Nb(29,"input",14,15),c.dc(31,"translate"),c.Sb(32,"a",11),c.Nb(33,"i",12),c.Rb(),c.Rb(),c.Ec(34,Ye,4,3,"div",16),c.Sb(35,"div",5),c.Sb(36,"label",17),c.Gc(37),c.dc(38,"translate"),c.Sb(39,"a",7),c.dc(40,"translate"),c.Nb(41,"i",8),c.Rb(),c.Rb(),c.Nb(42,"input",18,19),c.dc(44,"translate"),c.Sb(45,"a",11),c.Nb(46,"i",12),c.Rb(),c.Rb(),c.Sb(47,"div",5),c.Sb(48,"label",20),c.Gc(49),c.dc(50,"translate"),c.Sb(51,"a",7),c.dc(52,"translate"),c.Nb(53,"i",8),c.Rb(),c.Rb(),c.Nb(54,"input",21,22),c.dc(56,"translate"),c.Sb(57,"a",11),c.Nb(58,"i",12),c.Rb(),c.Rb(),c.Ec(59,Je,4,3,"div",16),c.Sb(60,"div",23),c.Sb(61,"a",24),c.Zb("click",function(){return t.onCancel()}),c.Nb(62,"i",25),c.Gc(63),c.dc(64,"translate"),c.Rb(),c.Sb(65,"button",26),c.Gc(66),c.dc(67,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e){const e=c.uc(2),i=c.uc(18),n=c.uc(30),o=c.uc(43),a=c.uc(55);c.zb(1),c.jc("formGroup",t.resetPasswordForm),c.zb(3),c.Hc(c.ec(5,40,"login.resetPasswordForm.title")),c.zb(4),c.Hc(c.ec(9,42,"login.resetPasswordForm.subtitle")),c.zb(4),c.Ic("",c.ec(13,44,"login.resetPasswordForm.login.label")," "),c.zb(2),c.jc("appTlpTooltip",c.ec(15,46,"login.resetPasswordForm.login.tooltip"))("tlpPlacement","top"),c.zb(3),c.jc("readonly",t.state.isLoading)("placeholder",c.ec(19,48,"login.resetPasswordForm.login.placeholder")),c.zb(3),c.jc("appVirtualKeyboard",i)("formToSubmit",e),c.zb(4),c.Ic("",c.ec(25,50,"login.resetPasswordForm.pesel.label")," "),c.zb(2),c.jc("appTlpTooltip",c.ec(27,52,"login.resetPasswordForm.pesel.tooltip"))("tlpPlacement","top"),c.zb(3),c.jc("readonly",t.state.isLoading)("placeholder",c.ec(31,54,"login.resetPasswordForm.pesel.placeholder")),c.zb(3),c.jc("appVirtualKeyboard",n)("formToSubmit",e),c.zb(2),c.jc("ngIf",t.isError("pesel","minlength")),c.zb(3),c.Ic("",c.ec(38,56,"login.resetPasswordForm.motherMaidenName.label")," "),c.zb(2),c.jc("appTlpTooltip",c.ec(40,58,"login.resetPasswordForm.motherMaidenName.tooltip"))("tlpPlacement","top"),c.zb(3),c.jc("readonly",t.state.isLoading)("placeholder",c.ec(44,60,"login.resetPasswordForm.motherMaidenName.placeholder")),c.zb(3),c.jc("appVirtualKeyboard",o)("formToSubmit",e),c.zb(4),c.Ic("",c.ec(50,62,"login.resetPasswordForm.phoneNumber.label")," "),c.zb(2),c.jc("appTlpTooltip",c.ec(52,64,"login.resetPasswordForm.phoneNumber.tooltip"))("tlpPlacement","top"),c.zb(3),c.jc("readonly",t.state.isLoading)("placeholder",c.ec(56,66,"login.resetPasswordForm.phoneNumber.placeholder"))("local",!1),c.zb(3),c.jc("appVirtualKeyboard",a)("formToSubmit",e),c.zb(2),c.jc("ngIf",t.isError("phoneNumber","invalidPhoneNumber")),c.zb(2),c.jc("appPiwikClickable","buttonBack"),c.zb(2),c.Ic(" ",c.ec(64,68,"login.resetPasswordForm.back.link")," "),c.zb(2),c.jc("ngClass",c.pc(72,Xe,t.state.isLoading))("disabled",!t.resetPasswordForm.valid)("appPiwikClickable","buttonAccept"),c.zb(1),c.Ic(" ",c.ec(67,70,"login.resetPasswordForm.confirm.button")," ")}},directives:[n.F,n.u,n.l,te.a,n.c,n.t,n.j,n.o,ie.a,v.m,Ke.a,ne.a,v.k],pipes:[R.c],styles:["@media (min-width:768px){.pass-check{transform:translate(-100%,50%);bottom:18px;left:-60px}}@media (min-width:1160px){.pass-check{left:-70px}}.login-auth-blocked .infoline,.login-auth-blocked .phone{padding-left:2.25rem;position:relative}.login-auth-blocked .infoline .number,.login-auth-blocked .phone .number{font-weight:700;display:inline-block;font-size:1.125rem}.login-auth-blocked .infoline .number a,.login-auth-blocked .phone .number a{color:inherit}.login-auth-blocked .infoline .ca,.login-auth-blocked .phone .ca{position:absolute;width:2.25rem;text-align:right;display:block;top:-.75rem;left:-.375rem;font-size:2.25rem}.login-auth-blocked .logout .ca{font-size:1.5rem;vertical-align:-7px}button.keyboard{display:none}"],encapsulation:2}),e})();const et=function(e){return{phoneNumber:e}};let tt=(()=>{class e{constructor(e,t){this.systemParameterService=e,this.loginService=t,this.animatedForm=new n.k({}),this.state={phoneNumber:t.getResetPasswordSuccessPhoneNumber(),passwordResetInstructionUrl:e.getPasswordResetInstructionUrl()}}ngOnInit(){}onBackToLogin(){this.loginService.cancelResetPassword()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(P.a),c.Mb(m.d))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-form-reset-password-success"]],decls:38,vars:23,consts:[[1,"form-container","card-inner","h-100","login-auth-blocked"],[3,"formGroup"],[1,"h4"],[1,"form-group","font-400"],[1,"m-0",3,"innerHTML"],[3,"innerHTML"],[1,"font-600"],["href","javascript:void(null);",1,"text-link",3,"click"],[1,"d-flex","flex-column","mt-x2"],[1,"font-400"],[1,"infoline"],[1,"ca","ca-guide"],[1,"number"],["target","_blank",3,"href"],[1,"ca","ca-infoline"],["href","tel:19 019","title","19 019"],[1,"infoline","mb-x2"],[1,"ca","ca-phone"],["href","tel:+48 71 35 49 009","title","+48 71 35 49 009"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"form",1),c.Sb(2,"h1",2),c.Gc(3),c.dc(4,"translate"),c.Rb(),c.Sb(5,"div",3),c.Nb(6,"p",4),c.dc(7,"translate"),c.Nb(8,"p",5),c.dc(9,"translate"),c.Sb(10,"p"),c.Sb(11,"strong",6),c.Sb(12,"a",7),c.Zb("click",function(){return t.onBackToLogin()}),c.Sb(13,"span"),c.Gc(14),c.dc(15,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(16,"div",8),c.Sb(17,"div"),c.Sb(18,"p",9),c.Gc(19),c.dc(20,"translate"),c.Rb(),c.Sb(21,"p",10),c.Nb(22,"i",11),c.Sb(23,"span",12),c.Sb(24,"a",13),c.Sb(25,"span"),c.Gc(26),c.dc(27,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(28,"p",10),c.Nb(29,"i",14),c.Sb(30,"span",12),c.Sb(31,"a",15),c.Gc(32,"19 019"),c.Rb(),c.Rb(),c.Rb(),c.Sb(33,"p",16),c.Nb(34,"i",17),c.Sb(35,"span",12),c.Sb(36,"a",18),c.Gc(37,"+48 71 35 49 009"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.zb(1),c.jc("formGroup",t.animatedForm),c.zb(2),c.Hc(c.ec(4,8,"login.resetPasswordForm.title")),c.zb(3),c.jc("innerHTML",c.fc(7,10,"login.resetPasswordForm.success.subtitle1",c.pc(21,et,t.state.phoneNumber)),c.yc),c.zb(2),c.jc("innerHTML",c.ec(9,13,"login.resetPasswordForm.success.subtitle2"),c.yc),c.zb(6),c.Hc(c.ec(15,15,"login.resetPasswordForm.success.backToLogin")),c.zb(5),c.Hc(c.ec(20,17,"login.resetPasswordForm.success.instruction")),c.zb(5),c.jc("href",t.state.passwordResetInstructionUrl,c.zc),c.zb(2),c.Hc(c.ec(27,19,"login.resetPasswordForm.success.instructionLink")))},directives:[n.F,n.u,n.l],pipes:[R.c],styles:["@media (min-width:768px){.pass-check{transform:translate(-100%,50%);bottom:18px;left:-60px}}@media (min-width:1160px){.pass-check{left:-70px}}.login-auth-blocked .infoline,.login-auth-blocked .phone{padding-left:2.25rem;position:relative}.login-auth-blocked .infoline .number,.login-auth-blocked .phone .number{font-weight:700;display:inline-block;font-size:1.125rem}.login-auth-blocked .infoline .number a,.login-auth-blocked .phone .number a{color:inherit}.login-auth-blocked .infoline .ca,.login-auth-blocked .phone .ca{position:absolute;width:2.25rem;text-align:right;display:block;top:-.75rem;left:-.375rem;font-size:2.25rem}.login-auth-blocked .logout .ca{font-size:1.5rem;vertical-align:-7px}button.keyboard{display:none}"],encapsulation:2}),e})(),it=(()=>{class e{constructor(e){this.loginService=e,this.animatedForm=new n.k({})}ngOnInit(){}onBackToResetPassword(){this.loginService.gotoResetPassword()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m.d))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-form-reset-password-fail"]],decls:29,vars:13,consts:[[1,"form-container","card-inner","h-100","login-auth-blocked"],[3,"formGroup"],[1,"h4"],[1,"form-group"],[1,"font-400"],["href","javascript:void(null);",1,"text-link","font-600",3,"click"],[1,"d-flex","flex-column","mt-x2"],[1,"infoline"],[1,"ca","ca-infoline"],[1,"number"],["href","tel:19 019","title","19 019"],[1,"infoline","mb-x2"],[1,"ca","ca-phone"],["href","tel:+48 71 35 49 009","title","+48 71 35 49 009"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"form",1),c.Sb(2,"h1",2),c.Gc(3),c.dc(4,"translate"),c.Rb(),c.Sb(5,"div",3),c.Sb(6,"p",4),c.Gc(7),c.dc(8,"translate"),c.Rb(),c.Sb(9,"p"),c.Sb(10,"a",5),c.Zb("click",function(){return t.onBackToResetPassword()}),c.Sb(11,"span"),c.Gc(12),c.dc(13,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Sb(14,"div",6),c.Sb(15,"div"),c.Sb(16,"p",4),c.Gc(17),c.dc(18,"translate"),c.Rb(),c.Sb(19,"p",7),c.Nb(20,"i",8),c.Sb(21,"span",9),c.Sb(22,"a",10),c.Gc(23,"19 019"),c.Rb(),c.Rb(),c.Rb(),c.Sb(24,"p",11),c.Nb(25,"i",12),c.Sb(26,"span",9),c.Sb(27,"a",13),c.Gc(28,"+48 71 35 49 009"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.zb(1),c.jc("formGroup",t.animatedForm),c.zb(2),c.Hc(c.ec(4,5,"login.resetPasswordForm.fail.title")),c.zb(4),c.Ic(" ",c.ec(8,7,"login.resetPasswordForm.fail.subtitle")," "),c.zb(5),c.Hc(c.ec(13,9,"login.resetPasswordForm.fail.tryAgain")),c.zb(5),c.Hc(c.ec(18,11,"login.resetPasswordForm.fail.prompt")))},directives:[n.F,n.u,n.l],pipes:[R.c],styles:["@media (min-width:768px){.pass-check{transform:translate(-100%,50%);bottom:18px;left:-60px}}@media (min-width:1160px){.pass-check{left:-70px}}.login-auth-blocked .infoline,.login-auth-blocked .phone{padding-left:2.25rem;position:relative}.login-auth-blocked .infoline .number,.login-auth-blocked .phone .number{font-weight:700;display:inline-block;font-size:1.125rem}.login-auth-blocked .infoline .number a,.login-auth-blocked .phone .number a{color:inherit}.login-auth-blocked .infoline .ca,.login-auth-blocked .phone .ca{position:absolute;width:2.25rem;text-align:right;display:block;top:-.75rem;left:-.375rem;font-size:2.25rem}.login-auth-blocked .logout .ca{font-size:1.5rem;vertical-align:-7px}button.keyboard{display:none}"],encapsulation:2}),e})();var nt=i("LGxM");function ot(e,t){if(1&e&&(c.Sb(0,"div",1),c.Sb(1,"div",2),c.Sb(2,"h2",3),c.Gc(3),c.dc(4,"translate"),c.Rb(),c.Nb(5,"div",4),c.Rb(),c.Rb()),2&e){const e=c.cc();c.zb(3),c.Hc(c.ec(4,2,"login.messageProperty.alert.note")),c.zb(2),c.jc("innerHTML",e.loginNoteAlert,c.yc)}}let at=(()=>{class e{constructor(e,t){this.loginMessageService=e,this.translateService=t,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.translateService.onLangChange.subscribe(()=>this.loginNoteAlert=this.loginMessageService.getLoginNoteAlertMessage())),this.loginNoteAlert=this.loginMessageService.getLoginNoteAlertMessage()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}isVisible(){return this.loginNoteAlert&&this.loginNoteAlert.length>0}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(nt.a),c.Mb(R.d))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-note-alert"]],decls:1,vars:1,consts:[["class","note-alert card",4,"ngIf"],[1,"note-alert","card"],["role","complementary",1,"alert","alert-warning","card-inner"],[1,"caption"],[3,"innerHTML"]],template:function(e,t){1&e&&c.Ec(0,ot,6,4,"div",0),2&e&&c.jc("ngIf",t.isVisible())},directives:[v.m],pipes:[R.c],styles:[".note-alert{padding-top:30px;background-color:transparent}.h-100 .note-alert{height:100%}@media (max-width:767.98px){.note-alert{padding:30px 0 0}:not(.bg-transparent)>.note-alert{background-color:#fff}}.note-alert .left{text-align:left}.note-alert .right{text-align:right}.note-alert .center{text-align:center}.note-alert .full{text-align:justify}.note-alert .alert{border:none;border-radius:0;margin:0;padding-top:50px;position:relative;background-repeat:no-repeat;background-position:50%;background-size:75% 75%}.h-100 .note-alert .alert{min-height:100%}@media (min-width:1160px){.note-alert .alert{padding-right:25%;background-position:225%}}.note-alert .alert .caption{position:absolute;text-align:center;left:50%;top:0;transform:translate(-50%,-50%);margin:auto;font-size:25px;line-height:inherit;padding:0 20px;border-radius:20px;font-weight:700;white-space:nowrap}.theme-default .note-alert .alert .caption{background-color:#9c0;border:none}.theme-hicontrast .note-alert .alert .caption{background-color:#000;border:2px solid #9c0}.note-alert .alert h4{color:inherit;font-size:1.375rem;line-height:1.875rem;font-weight:600;margin-bottom:1rem}.note-alert .alert.alert-warning{background-image:url(/web-ca24/exclamation.4fe516ee1ff6000c6f2d.svg)}.theme-default .note-alert .alert.alert-warning{background-color:#009597;color:#fff}.theme-hicontrast .note-alert .alert.alert-warning{background-color:#002a2b;color:#fff}.note-alert .alert.alert-warning a{color:#fff;font-weight:600}.note-alert .alert.alert-warning a:active,.note-alert .alert.alert-warning a:focus,.note-alert .alert.alert-warning a:hover{text-decoration:underline}"],encapsulation:2}),e})();function rt(e,t){if(1&e&&(c.Sb(0,"div",1),c.Nb(1,"div",2),c.Rb()),2&e){const e=c.cc();c.zb(1),c.jc("innerHTML",e.loginSecurityInfo,c.yc)}}let st=(()=>{class e{constructor(e,t){this.translateService=e,this.loginMessageService=t,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.translateService.onLangChange.subscribe(()=>this.loginSecurityInfo=this.getMessage())),this.loginSecurityInfo=this.getMessage()}getMessage(){return"LOGIN_PAGE_SECURITY_INFO"===this.messageType?this.loginMessageService.getLoginSecurityMessage():this.loginMessageService.getPasswordResetMaintenanceMessage()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}isVisible(){return this.loginSecurityInfo&&this.loginSecurityInfo.length>0}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(R.d),c.Mb(nt.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-security-info"]],inputs:{messageType:"messageType"},decls:1,vars:1,consts:[["class","security-info-container card-inner clearfix h-100",4,"ngIf"],[1,"security-info-container","card-inner","clearfix","h-100"],[3,"innerHTML"]],template:function(e,t){1&e&&c.Ec(0,rt,2,1,"div",0),2&e&&c.jc("ngIf",t.isVisible())},directives:[v.m],styles:['.security-info-container h2{margin-bottom:1.5rem}.security-info-container h4{font-size:1.5rem;line-height:1.875rem;font-weight:600;margin-bottom:1.5rem!important}.security-info-container h5{margin-bottom:1.5rem}.security-info-container .left{text-align:left}.security-info-container .right{text-align:right}.security-info-container .center{text-align:center}.security-info-container .full{text-align:justify}.security-info-container .security-link{margin-top:1.5rem}.security-info-container a{font-weight:600}.theme-default .security-info-container a{color:#007e90}.theme-hicontrast .security-info-container a{color:#9c0}.theme-default .security-info-container a:focus,.theme-default .security-info-container a:hover{color:#006675}.theme-hicontrast .security-info-container a:focus,.theme-hicontrast .security-info-container a:hover{color:#ad1}.security-info-container a:active,.security-info-container a:focus,.security-info-container a:hover{text-decoration:underline}.security-info-container ul{list-style-type:none;font-size:.875rem;padding-left:1.25rem;margin:0}.security-info-container ul li{position:relative;margin-bottom:1.25rem}.security-info-container ul li:before{font-family:cawebfont;position:absolute;left:-1.25rem;top:0;content:"\\f031";color:#9c0}'],encapsulation:2}),e})();function ct(e,t){1&e&&c.Nb(0,"h1",9)}function lt(e,t){1&e&&c.Nb(0,"app-login-security-image")}function gt(e,t){1&e&&c.Nb(0,"app-login-banner")}function bt(e,t){1&e&&(c.Sb(0,"div",10),c.Nb(1,"app-login-before-payment"),c.Rb())}function dt(e,t){1&e&&(c.Sb(0,"div",10),c.Nb(1,"app-logout-after-payment"),c.Rb())}function ut(e,t){1&e&&(c.Sb(0,"div",10),c.Nb(1,"app-logout-after-consent"),c.Rb())}function mt(e,t){1&e&&(c.Sb(0,"div",10),c.Nb(1,"app-logout-after-fallback"),c.Rb())}function pt(e,t){if(1&e&&c.Nb(0,"app-login-alert",11),2&e){const e=c.cc();c.jc("message",e.state.alertMessage)("level",e.state.alertLevel)("showLoginButton",e.state.alertLoginButton)("@expandCollapseAnimation",void 0)}}function ht(e,t){1&e&&c.Nb(0,"app-login-form-user")}function ft(e,t){1&e&&c.Nb(0,"app-login-form-password")}function St(e,t){1&e&&c.Nb(0,"app-login-form-welcome")}function wt(e,t){1&e&&c.Nb(0,"app-login-form-change")}function vt(e,t){1&e&&c.Nb(0,"app-login-form-confirm")}function yt(e,t){1&e&&c.Nb(0,"app-login-form-sca-confirm")}function Rt(e,t){1&e&&c.Nb(0,"app-login-goto-home")}function kt(e,t){1&e&&c.Nb(0,"app-login-form-reset-password")}function Ct(e,t){1&e&&c.Nb(0,"app-login-form-reset-password-success")}function Pt(e,t){1&e&&c.Nb(0,"app-login-form-reset-password-fail")}function It(e,t){1&e&&c.Nb(0,"app-login-note-alert")}const xt=function(e){return{"md-sticky-bottom-container":e}},Ft=function(e){return{"align-self":e}};function Nt(e,t){if(1&e&&(c.Sb(0,"div",12),c.Ec(1,It,1,0,"app-login-note-alert",4),c.Rb()),2&e){const e=c.cc();c.jc("ngClass",c.pc(3,xt,!e.state.showPasswordForm))("ngStyle",c.pc(5,Ft,e.state.showPasswordForm?"flex-end":"auto")),c.zb(1),c.jc("ngIf",e.state.showNoteAlert)}}function zt(e,t){1&e&&(c.Sb(0,"div",10),c.Nb(1,"app-login-security-info",13),c.Rb()),2&e&&(c.zb(1),c.jc("messageType","LOGIN_PAGE_SECURITY_INFO"))}function Mt(e,t){1&e&&(c.Sb(0,"div",10),c.Nb(1,"app-login-security-info",13),c.Rb()),2&e&&(c.zb(1),c.jc("messageType","PASSWORD_RESET_MAINTENANCE_INFO"))}const Tt=function(e,t){return{"md-sticky-bottom-container":e,"order-2":t}},Et=function(e){return{"order-1":e}};let At=(()=>{class e{constructor(e,t,i){this.appStateService=e,this.loginService=t,this.principalService=i,this.subscriptions=[],this.state={showH1Header:!1,showBeforePaymentForm:!1,showAfterPaymentForm:!1,showAfterConsentForm:!1,showAfterFallbackForm:!1,showUserForm:!1,showPasswordForm:!1,showResetPasswordForm:!1,showResetPasswordSuccess:!1,showResetPasswordFail:!1,showWelcomeForm:!1,showChangeForm:!1,showConfirmForm:!1,showScaConfirmForm:!1,showSecurityImage:!1,showAlert:!1,alertMessage:null,alertLevel:null,alertLoginButton:!1,showNoteAlert:!0,showSecurityInfo:!0,showPasswordResetMaintenanceInfo:!1,showBanner:!1,showGotoHome:!1,isScreenMdDown:this.appStateService.isMdDown()}}ngOnInit(){this.subscriptions.push(this.appStateService.screenContainerSizeChange.subscribe(()=>this.onScreenContainerSizeChange())),this.subscriptions.push(this.loginService.stateChanged.subscribe(e=>this.onServiceStateChange())),this.onServiceStateChange()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}onScreenContainerSizeChange(){this.state.isScreenMdDown=this.appStateService.isMdDown()}onServiceStateChange(){const e=this.loginService.getMode(),t=this.principalService.getOperatingMode();this.state.showBeforePaymentForm=[m.c.PAYMENT_WELCOME].indexOf(e)>=0,this.state.showAfterPaymentForm=[m.c.PAYMENT_LOGOUT].indexOf(e)>=0,this.state.showAfterConsentForm=[m.c.CONSENT_LOGOUT].indexOf(e)>=0,this.state.showAfterFallbackForm=[m.c.FALLBACK_LOGOUT].indexOf(e)>=0,this.state.showUserForm=[m.c.LOGIN].indexOf(e)>=0,this.state.showPasswordForm=[m.c.PASSWORD].indexOf(e)>=0,this.state.showResetPasswordForm=[m.c.RESET_PASSWORD].indexOf(e)>=0,this.state.showResetPasswordSuccess=[m.c.RESET_PASSWORD_SUCCESS].indexOf(e)>=0,this.state.showResetPasswordFail=[m.c.RESET_PASSWORD_FAIL].indexOf(e)>=0,this.state.showWelcomeForm=[m.c.WELCOME].indexOf(e)>=0,this.state.showChangeForm=[m.c.CHANGE].indexOf(e)>=0,this.state.showConfirmForm=[m.c.CONFIRM].indexOf(e)>=0,this.state.showScaConfirmForm=[m.c.SCA_CONFIRM].indexOf(e)>=0,this.state.showSecurityImage=[m.c.PASSWORD].indexOf(e)>=0,this.state.showNoteAlert=[m.c.LOGIN,m.c.PASSWORD].indexOf(e)>=0,this.state.showSecurityInfo=[m.c.LOGIN,m.c.PASSWORD].indexOf(e)>=0,this.state.showPasswordResetMaintenanceInfo=[m.c.RESET_PASSWORD_SUCCESS].indexOf(e)>=0,this.state.showBanner=[m.c.LOGOUT].indexOf(e)>=0,this.state.showGotoHome=[m.c.LOGOUT].indexOf(e)>=0,this.state.showAlert=this.loginService.isAlertMessage(),this.state.alertLevel=this.loginService.getAlertLevel(),this.state.alertMessage=this.loginService.getAlertMessage(),this.state.alertLoginButton=[m.c.LOGOUT].indexOf(e)>=0&&[s.b.TPP_FALLBACK].indexOf(t)<0,this.state.showH1Header=(this.state.showBeforePaymentForm||this.state.showNoteAlert)&&!this.state.showUserForm&&!this.state.showPasswordForm&&!this.state.showWelcomeForm&&!this.state.showChangeForm&&!this.state.showConfirmForm}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(p.a),c.Mb(m.d),c.Mb(s.c))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login-screen"]],decls:25,vars:28,consts:[["aria-label","Komunikat",4,"ngIf"],[1,"container-fluid"],[1,"row","justify-content-end"],[1,"col-12","col-md-6",3,"ngClass"],[4,"ngIf"],["class","col-12 col-md-6 md-strech",4,"ngIf"],[1,"col-12","col-md-6","md-strech",3,"ngClass"],["class","grow-0",3,"message","level","showLoginButton",4,"ngIf"],["class","col-12 col-md-6",3,"ngClass","ngStyle",4,"ngIf"],["aria-label","Komunikat"],[1,"col-12","col-md-6","md-strech"],[1,"grow-0",3,"message","level","showLoginButton"],[1,"col-12","col-md-6",3,"ngClass","ngStyle"],[3,"messageType"]],template:function(e,t){1&e&&(c.Ec(0,ct,1,0,"h1",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.Ec(4,lt,1,0,"app-login-security-image",4),c.Ec(5,gt,1,0,"app-login-banner",4),c.Rb(),c.Ec(6,bt,2,0,"div",5),c.Ec(7,dt,2,0,"div",5),c.Ec(8,ut,2,0,"div",5),c.Ec(9,mt,2,0,"div",5),c.Sb(10,"div",6),c.Ec(11,pt,1,4,"app-login-alert",7),c.Ec(12,ht,1,0,"app-login-form-user",4),c.Ec(13,ft,1,0,"app-login-form-password",4),c.Ec(14,St,1,0,"app-login-form-welcome",4),c.Ec(15,wt,1,0,"app-login-form-change",4),c.Ec(16,vt,1,0,"app-login-form-confirm",4),c.Ec(17,yt,1,0,"app-login-form-sca-confirm",4),c.Ec(18,Rt,1,0,"app-login-goto-home",4),c.Ec(19,kt,1,0,"app-login-form-reset-password",4),c.Ec(20,Ct,1,0,"app-login-form-reset-password-success",4),c.Ec(21,Pt,1,0,"app-login-form-reset-password-fail",4),c.Rb(),c.Ec(22,Nt,2,7,"div",8),c.Ec(23,zt,2,1,"div",5),c.Ec(24,Mt,2,1,"div",5),c.Rb(),c.Rb()),2&e&&(c.jc("ngIf",t.state.showH1Header),c.zb(3),c.jc("ngClass",c.qc(23,Tt,t.state.showBanner,t.state.showBanner&&t.state.isScreenMdDown)),c.zb(1),c.jc("ngIf",t.state.showSecurityImage),c.zb(1),c.jc("ngIf",t.state.showBanner),c.zb(1),c.jc("ngIf",t.state.showBeforePaymentForm),c.zb(1),c.jc("ngIf",t.state.showAfterPaymentForm),c.zb(1),c.jc("ngIf",t.state.showAfterConsentForm),c.zb(1),c.jc("ngIf",t.state.showAfterFallbackForm),c.zb(1),c.jc("ngClass",c.pc(26,Et,t.state.showBanner&&t.state.isScreenMdDown)),c.zb(1),c.jc("ngIf",t.state.showAlert),c.zb(1),c.jc("ngIf",t.state.showUserForm),c.zb(1),c.jc("ngIf",t.state.showPasswordForm),c.zb(1),c.jc("ngIf",t.state.showWelcomeForm),c.zb(1),c.jc("ngIf",t.state.showChangeForm),c.zb(1),c.jc("ngIf",t.state.showConfirmForm),c.zb(1),c.jc("ngIf",t.state.showScaConfirmForm),c.zb(1),c.jc("ngIf",t.state.showGotoHome),c.zb(1),c.jc("ngIf",t.state.showResetPasswordForm),c.zb(1),c.jc("ngIf",t.state.showResetPasswordSuccess),c.zb(1),c.jc("ngIf",t.state.showResetPasswordFail),c.zb(1),c.jc("ngIf",t.state.showNoteAlert),c.zb(1),c.jc("ngIf",t.state.showSecurityInfo),c.zb(1),c.jc("ngIf",t.state.showPasswordResetMaintenanceInfo))},directives:[v.m,v.k,k,C,M,G,Y,J,X.a,se,be,de,Le,_e,We,Be,$e,tt,it,v.n,at,st],styles:["[_nghost-%COMP%], app-login-security-image[_ngcontent-%COMP%]{display:block}"],data:{animation:[w.a]}}),e})();const Ot=[{path:"login",component:(()=>{class e{constructor(e){this.loginService=e}ngOnInit(){}getAnimationData(e){return e.activatedRouteData.page||"login"}onRouteAnimationDone(){this.loginService.emitRouteAnimationDone()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(m.d))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-login"]],decls:3,vars:1,consts:[["rOutlet","outlet"]],template:function(e,t){if(1&e&&(c.Sb(0,"div"),c.Zb("@routeAnimation.done",function(){return t.onRouteAnimationDone()}),c.Nb(1,"router-outlet",null,0),c.Rb()),2&e){const e=c.uc(2);c.jc("@routeAnimation",t.getAnimationData(e))}},directives:[o.i],encapsulation:2,data:{animation:[me.a]}}),e})(),children:[{path:"payment",component:At,canActivate:[f]},{path:"paymentLogout",component:At,canActivate:[f]},{path:"consent",component:At,canActivate:[f]},{path:"consentLogout",component:At,canActivate:[f]},{path:"fallback",component:At,canActivate:[f]},{path:"fallbackLogout",component:At,canActivate:[f]},{path:"login",component:At,canActivate:[f],data:{page:"login"}},{path:"password",component:At,canActivate:[f],data:{page:"password"}},{path:"welcome",component:At,canActivate:[f],data:{page:"welcome"}},{path:"changeStep1",component:At,canActivate:[f],data:{page:"changeStep1"}},{path:"changeStep2",component:At,canActivate:[f],data:{page:"changeStep2"}},{path:"confirmStep1",component:At,canActivate:[f],data:{page:"confirmStep1"}},{path:"confirmStep2",component:At,canActivate:[f],data:{page:"confirmStep2"}},{path:"scaConfirm",component:At,canActivate:[f],data:{page:"scaConfirm"}},{path:"logout",component:At,canActivate:[f],data:{page:"logout"}},{path:"resetPassword",component:At,canActivate:[f],data:{page:"resetPassword"}},{path:"resetPasswordSuccess",component:At,canActivate:[f],data:{page:"resetPasswordSuccess"}},{path:"resetPasswordFail",component:At,canActivate:[f],data:{page:"resetPasswordFail"}},{path:"initialConfigurationError",component:S,canActivate:[l]},{path:"",redirectTo:"login",pathMatch:"prefix"}]}];let Lt=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},imports:[[o.h.forChild(Ot)],o.h]}),e})(),jt=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},providers:[f,l],imports:[[a.a,o.h,n.A,Lt]]}),e})()}}]);